System.register("chunks:///_virtual/BattleManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TileMapManager.ts","./index.ts","./index2.ts","./DataManager.ts","./TileManager.ts","./EventManager.ts","./index3.ts","./EntityFactory.ts","./FaderManager.ts","./ShakeManager.ts"],(function(e){var t,n,i,s,a,r,o,c,u,p,l,h,f,v,d,m,g,y,k,x,S,w,L,P,I,E;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,i=e.regeneratorRuntime,s=e.extends},function(e){a=e.cclegacy,r=e._decorator,o=e.director,c=e.Vec2,u=e.Component},function(e){p=e.TileMapManager},function(e){l=e.CreateUINode},function(e){h=e.default},function(e){f=e.default},function(e){v=e.TILE_WIDTH,d=e.TILE_HEIGHT},function(e){m=e.default},function(e){g=e.EEvent,y=e.EScene,k=e.EEntityState},function(e){x=e.PlayerFactory,S=e.EnemyFactory,w=e.DoorFactory,L=e.TrapFactory,P=e.SmokeFactory},function(e){I=e.default},function(e){E=e.ShakeManager}],execute:function(){var M;a._RF.push({},"27ea54C5QhBZK5F7tJJKjqL","BattleManager",void 0);var b=r.ccclass;r.property,e("BattleManager",b("BattleManager")(M=function(e){function a(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))||this).level=void 0,t.stage=void 0,t.smokeLayout=void 0,t.bIsInitialized=!1,t}t(a,e);var r=a.prototype;return r.onLoad=function(){f.instance.levelIndex=1,m.instance.on(g.NextLevel,this.nextLevel,this),m.instance.on(g.PlayerMoveEnd,this.checkArrived,this),m.instance.on(g.SpawnSmoke,this.generateSmoke,this),m.instance.on(g.RecordStep,this.recordStep,this),m.instance.on(g.RevokeStep,this.revokeStep,this),m.instance.on(g.RestartLevel,this.initLevel,this),m.instance.on(g.QuitBattle,this.quitBattle,this)},r.onDestroy=function(){m.instance.off(g.NextLevel,this.nextLevel,this),m.instance.off(g.PlayerMoveEnd,this.checkArrived,this),m.instance.off(g.SpawnSmoke,this.generateSmoke,this),m.instance.off(g.RecordStep,this.recordStep,this),m.instance.off(g.RevokeStep,this.revokeStep,this),m.instance.off(g.RestartLevel,this.initLevel,this),m.instance.off(g.QuitBattle,this.quitBattle,this)},r.start=function(){this.generateStage(),this.initLevel()},r.initLevel=function(){var e=n(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=h["level"+f.instance.levelIndex])){e.next=25;break}if(!this.bIsInitialized){e.next=7;break}return e.next=5,I.instance.fadeIn();case 5:e.next=8;break;case 7:I.instance.mask();case 8:return this.clearLevel(),this.level=t,f.instance.mapInfo=this.level.mapInfo,f.instance.mapColCount=this.level.mapInfo.length||0,f.instance.mapRowCount=this.level.mapInfo[0].length||0,e.next=15,this.generateTileMap();case 15:return e.next=17,Promise.all([this.generateEnemies(),this.generateDoor(),this.generateBurst(),this.generateSpike()]);case 17:return this.generateSmokeLayout(),e.next=20,this.generatePlayer();case 20:return e.next=22,I.instance.fadeOut();case 22:this.bIsInitialized=!0,e.next=26;break;case 25:this.quitBattle();case 26:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.clearLevel=function(){this.stage.destroyAllChildren(),f.instance.reset()},r.generateStage=function(){this.stage=l("stage"),this.stage.setParent(this.node),this.stage.addComponent(E)},r.generatePlayer=function(){var e=n(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new x).create(s({},this.level.player),this.stage);case 2:t=e.sent,f.instance.player=t,m.instance.emit(g.playerSpawned);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.generateEnemies=function(){var e=n(i().mark((function e(){var t,n,a,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.level.enemies.map((function(e){return(new S).create(s({},e),r.stage)})),e.next=3,Promise.all(n);case 3:a=e.sent,(t=f.instance.enemies).push.apply(t,a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.generateDoor=function(){var e=n(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new w).create(s({},this.level.door),this.stage);case 2:t=e.sent,f.instance.door=t;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.generateBurst=function(){var e=n(i().mark((function e(){var t,n,a,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.level.bursts.map((function(e){return(new L).create(s({},e),r.stage)})),e.next=3,Promise.all(n);case 3:a=e.sent,(t=f.instance.bursts).push.apply(t,a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.generateSpike=function(){var e=n(i().mark((function e(){var t,n,a,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.level.spikes.map((function(e){return(new L).create(s({},e),r.stage)})),e.next=3,Promise.all(n);case 3:a=e.sent,(t=f.instance.spikes).push.apply(t,a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.generateSmokeLayout=function(){this.smokeLayout=l("smokeLayout"),this.smokeLayout.setParent(this.stage)},r.generateSmoke=function(){var e=n(i().mark((function e(t,n){var s,a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=f.instance.smokes,5,!(a=s.length>=5&&s.find((function(e){return e.state===k.Death})))){e.next=9;break}a.position=t,a.direction=n,a.state=k.Idle,e.next=13;break;case 9:return e.next=11,(new P).create({position:t,direction:n,state:k.Idle},this.smokeLayout);case 11:r=e.sent,s.push(r);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),r.generateTileMap=function(){var e=n(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=l("map")).setParent(this.stage),n=t.addComponent(p),e.next=5,n.init();case 5:this.adaptPos();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.adaptPos=function(){var e=f.instance,t=e.mapRowCount,n=-e.mapColCount*v/2,i=t*d/2;this.stage.setPosition(n,i)},r.nextLevel=function(){f.instance.levelIndex++,this.initLevel()},r.quitBattle=function(){o.loadScene(y.Start)},r.checkArrived=function(){var e=f.instance,t=e.player,n=e.door,i=t.position,s=n.position,a=n.state;c.strictEquals(i,s)&&a===k.Death&&m.instance.emit(g.NextLevel)},r.recordStep=function(){var e=f.instance,t=e.player,n=e.enemies,i=e.door,s=e.bursts,a=e.spikes,r={player:{position:t.position.clone(),direction:t.direction,state:t.state},enemies:n.map((function(e){return{position:e.position,direction:e.direction,state:e.state}})),door:{position:i.position.clone(),state:i.state},bursts:s.map((function(e){return{position:e.position.clone(),state:e.state,currentPoint:e.currentPoint}})),spikes:a.map((function(e){return{position:e.position.clone(),state:e.state,currentPoint:e.currentPoint}}))};f.instance.records.push(r)},r.revokeStep=function(){var e=f.instance.records.pop();if(e){var t=f.instance,n=t.player,i=t.enemies,s=t.door,a=t.bursts,r=t.spikes;n.position=e.player.position.clone(),n.targetPosition=e.player.position.clone(),n.direction=e.player.direction,n.state=e.player.state,i.forEach((function(t,n){t.position=e.enemies[n].position,t.direction=e.enemies[n].direction,t.state=e.enemies[n].state})),s.position=e.door.position,s.state=e.door.state,a.forEach((function(t,n){t.position=e.bursts[n].position,t.state=e.bursts[n].state,t.currentPoint=e.bursts[n].currentPoint})),r.forEach((function(t,n){t.position=e.spikes[n].position,t.state=e.spikes[n].state,t.currentPoint=e.spikes[n].currentPoint}))}},a}(u))||M);a._RF.pop()}}}));

System.register("chunks:///_virtual/BurstManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TrapManager.ts","./index3.ts","./TileManager.ts","./DataManager.ts","./EventManager.ts"],(function(t){var n,e,i,r,s,a,o,u,c,h,p,g,f;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,i=t.regeneratorRuntime,r=t.extends},function(t){s=t.cclegacy,a=t.Vec2},function(t){o=t.TrapManager},function(t){u=t.EEntityState,c=t.EEvent},function(t){h=t.TILE_WIDTH,p=t.TILE_HEIGHT},function(t){g=t.default},function(t){f=t.default}],execute:function(){s._RF.push({},"5b5daspMMhPK67X6nbi2NE+","BurstManager",void 0);t("BurstManager",function(t){function s(){return t.apply(this,arguments)||this}n(s,t);var o=s.prototype;return o.init=function(){var n=e(i().mark((function n(e){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.init.call(this,r({},e));case 2:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),o.update=function(t){this.node.setPosition(this.position.x*h,-this.position.y*p)},o.trigger=function(){var t=g.instance.player;!t||t.state===u.Death||this.state===u.Death||0===this.currentPoint&&a.distance(this.position,t.targetPosition)>this.triggerDistance||(this.currentPoint++,this.currentPoint===this.totalPoint&&(this.state=u.Death,a.distance(this.position,t.targetPosition)<=this.triggerDistance&&f.instance.emit(c.FallingDeath,t,this)))},s}(o));s._RF.pop()}}}));

System.register("chunks:///_virtual/BurstStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TrapStateMachine.ts"],(function(t){var n,e,r,i,a;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){i=t.cclegacy},function(t){a=t.TrapStateMachine}],execute:function(){i._RF.push({},"8e871HU2RZNsr2wfFtYs879","BurstStateMachine",void 0);var o="texture/burst";t("BurstStateMachine",function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var a=i.prototype;return a.init=function(){var n=e(r().mark((function n(){var e,i,a,u,c,s=arguments;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(e=s.length,i=new Array(e),a=0;a<e;a++)i[a]=s[a];return u=i[0],c=i[1],n.next=4,t.prototype.init.call(this,{trapManager:u,baseUrl:o,totalPoint:c});case 4:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),a.initAnimationEvent=function(){},i}(a));i._RF.pop()}}}));

System.register("chunks:///_virtual/ControllerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./index3.ts"],(function(n){var t,e,r,o,a,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,r=n._decorator,o=n.Component},function(n){a=n.default},function(n){c=n.EEvent}],execute:function(){var l;e._RF.push({},"0da72IcPCxN3Jkhd8NAhQnZ","ControllerManager",void 0);var i=r.ccclass;r.property,n("ControllerManager",i("ControllerManager")(l=function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e.prototype.handleController=function(n,t){a.instance.emit(c.PlayerInput,t)},e}(o))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/DataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(t){var e,n,s,o;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){s=t.cclegacy},function(t){o=t.default}],execute:function(){s._RF.push({},"e9b2eNfgN9AM7Z9eCbELA4/","DataManager",void 0);t("default",function(t){function s(){for(var e,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))||this).mapInfo=[],e.mapRowCount=0,e.mapColCount=0,e.tileInfo=[],e.levelIndex=1,e.player=null,e.enemies=[],e.door=null,e.bursts=[],e.spikes=[],e.smokes=[],e.records=[],e}return e(s,t),s.prototype.reset=function(){this.mapInfo=[],this.mapRowCount=0,this.mapColCount=0,this.tileInfo=[],this.player=null,this.enemies=[],this.door=null,this.bursts=[],this.spikes=[],this.records=[]},n(s,null,[{key:"instance",get:function(){return t.getInstance.call(this)}}]),s}(o));s._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DirectionSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubStateMachine.ts","./index3.ts","./State.ts"],(function(t){var e,i,s,n,a,r,o,c;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){n=t.cclegacy},function(t){a=t.SubStateMachine},function(t){r=t.EEntityStateMachineParams,o=t.EDirection},function(t){c=t.State}],execute:function(){n._RF.push({},"f1915bgH+xAM4qdoUQdZbGI","DirectionSubStateMachine",void 0);t("DirectionSubStateMachine",function(t){function n(e,i,s,n){return t.call(this,e,i,s,n)||this}e(n,t);var a=n.prototype;return a.init=function(){var t=i(s().mark((function t(){var e,i,n,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new c(this.baseUrl+"/top",this.fsm,this.wrapMode,this.sampleRate),i=new c(this.baseUrl+"/bottom",this.fsm,this.wrapMode,this.sampleRate),n=new c(this.baseUrl+"/left",this.fsm,this.wrapMode,this.sampleRate),a=new c(this.baseUrl+"/right",this.fsm,this.wrapMode,this.sampleRate),t.next=6,Promise.all([e.init(),i.init(),n.init(),a.init()]);case 6:this.states.set(o.Top,e),this.states.set(o.Bottom,i),this.states.set(o.Left,n),this.states.set(o.Right,a);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.run=function(){var t=this.fsm.getParamValue(r.Direction);this.currentState=this.states.get(t)},n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/DoorIdleSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts"],(function(e){var t,n,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){i=e.DirectionSubStateMachine}],execute:function(){n._RF.push({},"1b181CmljlHA6P8OhyXDHP5","DoorIdleSubStateMachine",void 0);e("DoorIdleSubStateMachine",function(e){function n(t){return e.call(this,t,"texture/door/idle")||this}return t(n,e),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/DoorManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityManager.ts","./index3.ts","./EventManager.ts","./DoorStateMachine.ts"],(function(t){var n,e,o,r,i,a,s,c,u,p,f;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,o=t.regeneratorRuntime,r=t.extends},function(t){i=t.cclegacy},function(t){a=t.EntityManager},function(t){s=t.EEvent,c=t.EEntityState,u=t.EEntityType},function(t){p=t.default},function(t){f=t.DoorStateMachine}],execute:function(){i._RF.push({},"46ec1HVKaxE052RinPnVw9N","DoorManager",void 0);t("DoorManager",function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var a=i.prototype;return a.init=function(){var n=e(o().mark((function n(e){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.init.call(this,r({},e,{type:u.Door,fsm:f}));case 2:p.instance.on(s.OpenDoor,this.open,this);case 3:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),a.onDestroy=function(){p.instance.off(s.OpenDoor,this.open,this),t.prototype.onDestroy.call(this)},a.open=function(){this.state=c.Death},i}(a));i._RF.pop()}}}));

System.register("chunks:///_virtual/DoorStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index3.ts","./StateMachine.ts","./DoorIdleSubStateMachine.ts","./State.ts"],(function(t){var e,a,n,i,s,r,o,c,u,h,p,l;return{setters:[function(t){e=t.inheritsLoose,a=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){i=t.cclegacy,s=t._decorator,r=t.Animation},function(t){o=t.EEntityStateMachineParams,c=t.EStateMachineParamType,u=t.EEntityState},function(t){h=t.StateMachine},function(t){p=t.DoorIdleSubStateMachine},function(t){l=t.State}],execute:function(){var f;i._RF.push({},"a8751q17hhJjJoBqd4urL/n","DoorStateMachine",void 0);var S=s.ccclass;t("DoorStateMachine",S("DoorStateMachine")(f=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var s=i.prototype;return s.init=function(){var t=a(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.animationComponent=this.addComponent(r),this.initParams(),t.next=4,this.initStates();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.initParams=function(){this.params.set(o.Idle,{type:c.TRIGGER,value:!1}),this.params.set(o.Death,{type:c.TRIGGER,value:!1}),this.params.set(o.Direction,{type:c.INTEGER,value:0})},s.initStates=function(){var t=a(n().mark((function t(){var e,a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new p(this),a=new l("texture/door/death",this),t.next=4,Promise.all([e.init(),a.init()]);case 4:this.states.set(u.Idle,e),this.states.set(u.Death,a);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.run=function(){switch(this.currentState){case this.states.get(u.Idle):this.getParamValue(o.Death)&&(this.currentState=this.states.get(u.Death));break;case this.states.get(u.Death):this.getParamValue(o.Idle)&&(this.currentState=this.states.get(u.Idle));break;default:this.currentState=this.states.get(u.Idle)}},i}(h))||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/DrawManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index3.ts"],(function(t){var e,n,i,s,a,o,r,h,l,u,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,s=t.view,a=t.BlockInputEvents,o=t.Graphics,r=t.UITransform,h=t.Color,l=t.game,u=t.Component},function(t){c=t.FadeStatus}],execute:function(){var p;n._RF.push({},"6cfaby24uJD8riRxIQENGjI","DrawManager",void 0);var d=i.ccclass,f=s.getVisibleSize().width,m=s.getVisibleSize().height,v=t("DEFAULT_FADE_DURATION",200);t("DrawManager",d("DrawManager")(p=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).lastTime=0,e.duration=v,e.fadeStatus=c.Idle,e.fadeResolve=void 0,e.faderNode=null,e.graphicsComponent=null,e.blockInputEventsComponent=null,e}e(n,t);var i=n.prototype;return i.init=function(){this.blockInputEventsComponent=this.addComponent(a),this.graphicsComponent=this.addComponent(o);var t=this.getComponent(r);t.setAnchorPoint(.5,.5),t.setContentSize(f,m),this.setAlpha(1)},i.setAlpha=function(t){this.graphicsComponent.clear(),this.graphicsComponent.rect(0,0,f,m),this.graphicsComponent.fillColor=new h(0,0,0,255*t),this.graphicsComponent.fill(),this.blockInputEventsComponent.enabled=0!==t},i.update=function(){var t=(l.totalTime-this.lastTime)/this.duration;switch(this.fadeStatus){case c.fadeIn:t<1?this.setAlpha(t):(this.fadeStatus=c.Idle,this.setAlpha(1),this.fadeResolve());break;case c.fadeOut:t<1?this.setAlpha(1-t):(this.fadeStatus=c.Idle,this.setAlpha(0),this.fadeResolve())}},i.fadeIn=function(t){var e=this;return void 0===t&&(t=v),this.setAlpha(0),this.duration=t,this.fadeStatus=c.fadeIn,this.lastTime=l.totalTime,new Promise((function(t){e.fadeResolve=t}))},i.fadeOut=function(t){var e=this;return void 0===t&&(t=v),this.setAlpha(1),this.duration=t,this.fadeStatus=c.fadeOut,this.lastTime=l.totalTime,new Promise((function(t){e.fadeResolve=t}))},i.mask=function(){this.setAlpha(1)},n}(u))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyAttackSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts"],(function(t){var e,n,i,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t.AnimationClip},function(t){c=t.DirectionSubStateMachine}],execute:function(){n._RF.push({},"d9d80TOv8hEArpqdVdcLYKX","EnemyAttackSubStateMachine",void 0);t("EnemyAttackSubStateMachine",function(t){function n(e,n,c){return void 0===c&&(c=i.WrapMode.Normal),t.call(this,e,n,c)||this}return e(n,t),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyDeadSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts"],(function(e){var t,n,i,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e.AnimationClip},function(e){c=e.DirectionSubStateMachine}],execute:function(){n._RF.push({},"ec6f5ztzYtB9JT359hpeg6/","EnemyDeadSubStateMachine",void 0);e("EnemyDeadSubStateMachine",function(e){function n(t,n,c){return void 0===c&&(c=i.WrapMode.Normal),e.call(this,t,n,c)||this}return t(n,e),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyIdleSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts"],(function(e){var t,n,i,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e.AnimationClip},function(e){c=e.DirectionSubStateMachine}],execute:function(){n._RF.push({},"9af16CX+cxHsKsrxcPDB/Pg","EnemyIdleSubStateMachine",void 0);e("EnemyIdleSubStateMachine",function(e){function n(t,n,c){return void 0===c&&(c=i.WrapMode.Normal),e.call(this,t,n,c)||this}return t(n,e),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityManager.ts","./index3.ts","./EventManager.ts","./DataManager.ts"],(function(t){var n,e,i,a,s,o,r,c,h,y,p,u;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,i=t.regeneratorRuntime,a=t.extends},function(t){s=t.cclegacy},function(t){o=t.EntityManager},function(t){r=t.EEvent,c=t.EEntityState,h=t.EDirection,y=t.EEntityType},function(t){p=t.default},function(t){u=t.default}],execute:function(){s._RF.push({},"98311pbMmxE1q/o05r7oGnd","EnemyManager",void 0);t("EnemyManager",function(t){function s(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this).enemyType=null,n}n(s,t);var o=s.prototype;return o.init=function(){var n=e(i().mark((function n(e){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.init.call(this,a({},e,{type:y.Enemy}));case 2:this.enemyType=e.enemyType,p.instance.on(r.playerSpawned,this.adjustDirection,this),p.instance.on(r.PlayerMoveEnd,this.adjustDirection,this),p.instance.on(r.PlayerMoveEnd,this.tryAttackPlayer,this),this.adjustDirection();case 7:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),o.onDestroy=function(){p.instance.off(r.playerSpawned,this.adjustDirection,this),p.instance.off(r.PlayerMoveEnd,this.adjustDirection,this),p.instance.off(r.PlayerMoveEnd,this.tryAttackPlayer,this),t.prototype.onDestroy.call(this)},o.adjustDirection=function(){var t=u.instance.player;if(this.state!==c.Death&&this.state!==c.FallingDeath&&t&&t.state!==c.Death){var n=u.instance.player.position,e=Math.abs(n.x-this.position.x),i=Math.abs(n.y-this.position.y),a=n.x>=this.position.x&&n.y<=this.position.y,s=n.x<=this.position.x&&n.y<=this.position.y,o=n.x<=this.position.x&&n.y>=this.position.y,r=n.x>=this.position.x&&n.y>=this.position.y;a?this.direction=e<i?h.Top:h.Right:s?this.direction=e<i?h.Top:h.Left:o?this.direction=e<i?h.Bottom:h.Left:r&&(this.direction=e<i?h.Bottom:h.Right)}},o.tryAttackPlayer=function(){var n=u.instance.player;this.state!==c.Death&&this.state!==c.FallingDeath&&n&&n.state!==c.Death&&t.prototype.tryAttackTarget.call(this,n,1)},o.OnDeath=function(n,e){n===this&&this.state!==c.Death&&(t.prototype.OnDeath.call(this,n,e),u.instance.enemies.every((function(t){return t.state===c.Death}))&&p.instance.emit(r.OpenDoor))},s}(o));s._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index3.ts","./StateMachine.ts","./EntityManager.ts"],(function(t){var e,n,a,i,s,r,c,u,o,h;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){i=t.cclegacy,s=t.Animation},function(t){r=t.EEntityStateMachineParams,c=t.EStateMachineParamType,u=t.EEntityState},function(t){o=t.StateMachine},function(t){h=t.EntityManager}],execute:function(){i._RF.push({},"d7bdc/Hq7xC97t3IacKUioQ","EnemyStateMachine",void 0);t("EnemyStateMachine",function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var o=i.prototype;return o.init=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.animationComponent=this.addComponent(s),this.initAnimationEvent(),this.initParams(),t.next=5,this.initStates();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.initParams=function(){this.params.set(r.Idle,{type:c.TRIGGER,value:!1}),this.params.set(r.Attack,{type:c.TRIGGER,value:!1}),this.params.set(r.Death,{type:c.TRIGGER,value:!1}),this.params.set(r.Direction,{type:c.INTEGER,value:0})},o.initAnimationEvent=function(){var t=this;this.animationComponent.on(s.EventType.FINISHED,(function(e,n){["attack"].some((function(t){return n.name.includes(t)}))&&(t.node.getComponent(h).state=u.Idle)}),this)},o.run=function(){switch(this.currentState){case this.states.get(u.Idle):this.getParamValue(r.Attack)?this.currentState=this.states.get(u.Attack):this.getParamValue(r.Death)?this.currentState=this.states.get(u.Death):this.currentState=this.currentState;break;case this.states.get(u.Death):this.getParamValue(r.Idle)&&(this.currentState=this.states.get(u.Idle));break;default:this.currentState=this.states.get(u.Idle)}},i}(o));i._RF.pop()}}}));

System.register("chunks:///_virtual/EntityFactory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index3.ts","./index.ts","./PlayerManager.ts","./WoodenSkeletonManager.ts","./WoodenSkeletonStateMachine.ts","./IronSkeletonManager.ts","./IronSkeletonStateMachine.ts","./DoorManager.ts","./BurstManager.ts","./BurstStateMachine.ts","./SpikeManager.ts","./SpikeStateMachine.ts","./SmokeManager.ts","./TileManager.ts"],(function(t){var n,e,r,a,o,i,c,u,s,p,f,l,y,S,M,m,h,g,k,d,v;return{setters:[function(t){n=t.asyncToGenerator,e=t.regeneratorRuntime,r=t.extends},function(t){a=t.cclegacy,o=t.Size},function(t){i=t.EEnemyType,c=t.ETrapType},function(t){u=t.CreateUINode},function(t){s=t.PlayerManager},function(t){p=t.WoodenSkeletonManager},function(t){f=t.WoodenSkeletonStateMachine},function(t){l=t.IronSkeletonManager},function(t){y=t.IronSkeletonStateMachine},function(t){S=t.DoorManager},function(t){M=t.BurstManager},function(t){m=t.BurstStateMachine},function(t){h=t.SpikeManager},function(t){g=t.SpikeStateMachine},function(t){k=t.SmokeManager},function(t){d=t.TILE_WIDTH,v=t.TILE_HEIGHT}],execute:function(){a._RF.push({},"818c3bnmKFJaZsT/9Cb2u+t","EntityFactory",void 0);t("PlayerFactory",function(){function t(){}return t.prototype.create=function(){var t=n(e().mark((function t(n,a){var o,i;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(o=u("player")).setParent(a),i=o.addComponent(s),t.next=5,i.init(r({},n));case 5:return t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),t}()),t("EnemyFactory",function(){function t(){}return t.prototype.create=function(){var t=n(e().mark((function t(n,a){var o,c,s,S,M;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(c=u("enemy")).setParent(a),(o={})[i.WoodenSkeleton]={manager:p,stateMachine:f},o[i.IronSkeleton]={manager:l,stateMachine:y},(M=o[n.enemyType])&&(s=c.addComponent(M.manager),S=M.stateMachine),t.next=7,s.init(r({},n,{fsm:S}));case 7:return t.abrupt("return",s);case 8:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),t}()),t("DoorFactory",function(){function t(){}return t.prototype.create=function(){var t=n(e().mark((function t(n,a){var o,i;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(o=u("door")).setParent(a),i=o.addComponent(S),t.next=5,i.init(r({},n));case 5:return t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),t}()),t("TrapFactory",function(){function t(){}return t.prototype.create=function(){var t=n(e().mark((function t(n,a){var i,s,p,f,l;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(s=u("trap")).setParent(a),(i={})[c.Burst]={manager:M,stateMachine:m,totalPoint:2,tileSize:new o(d,v)},i[c.SpikesOne]={manager:h,stateMachine:g,totalPoint:2},i[c.SpikesTwo]={manager:h,stateMachine:g,totalPoint:3},i[c.SpikesThree]={manager:h,stateMachine:g,totalPoint:4},i[c.SpikerFour]={manager:h,stateMachine:g,totalPoint:5},(l=i[n.trapType])&&(p=s.addComponent(l.manager),f=l.stateMachine,n.totalPoint=l.totalPoint,n.tileSize=l.tileSize),t.next=7,p.init(r({},n,{fsm:f}));case 7:return t.abrupt("return",p);case 8:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),t}()),t("SmokeFactory",function(){function t(){}return t.prototype.create=function(){var t=n(e().mark((function t(n,a){var o,i;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(o=u("smoke")).setParent(a),i=o.addComponent(k),t.next=5,i.init(r({},n));case 5:return t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/EntityManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index3.ts","./TileManager.ts","./EventManager.ts"],(function(t){var n,e,i,s,o,a,r,c,u,h,f,p,d,l,y,m,v;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t.Size,r=t.Vec2,c=t.Component,u=t.Sprite,h=t.UITransform},function(t){f=t.EEvent,p=t.EEntityState,d=t.EEntityStateMachineParams,l=t.EDirection},function(t){y=t.TILE_WIDTH,m=t.TILE_HEIGHT},function(t){v=t.default}],execute:function(){o._RF.push({},"2bc9aOzjIZIYp5f/9H6Udp3","EntityManager",void 0);var g=new a(220,220);t("EntityManager",function(t){function o(){for(var n,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(n=t.call.apply(t,[this].concat(i))||this).type=void 0,n.position=new r(0,0),n.fsm=void 0,n._direction=void 0,n._state=void 0,n}n(o,t);var a=o.prototype;return a.init=function(){var t=i(s().mark((function t(n){var e,i,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.addComponent(u).sizeMode=u.SizeMode.CUSTOM,this.getComponent(h).setContentSize(null!=(e=n.tileSize)?e:g),t.next=6,this.initStateMachine(n.fsm);case 6:this.type=n.type,this.position=n.position?n.position.clone():new r(0,0),this.direction=null!=(i=n.direction)?i:l.Top,this.state=null!=(o=n.state)?o:p.Idle,v.instance.on(f.Death,this.OnDeath,this);case 11:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),a.initStateMachine=function(){var t=i(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.fsm=this.addComponent(n),t.next=3,this.fsm.init();case 3:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),a.onDestroy=function(){v.instance.off(f.Death,this.OnDeath,this)},a.update=function(t){this.node.setPosition((this.position.x-1.5)*y,-(this.position.y-1.5)*m)},a.tryAttackTarget=function(t,n){r.distance(this.position,t.position)<=n&&(this.state=p.Attack,v.instance.emit(f.Death,t,this))},a.OnDeath=function(t,n){t===this&&this.state!==p.Death&&(this.state=p.Death)},e(o,[{key:"direction",get:function(){return this._direction},set:function(t){this._direction=t,this.fsm.setParamValue(d.Direction,t)}},{key:"state",get:function(){return this._state},set:function(t){this._state=t,this.fsm.setParamValue(t,!0)}}]),o}(c));o._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(t){var n,e,s,c;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy},function(t){c=t.default}],execute:function(){s._RF.push({},"abcfaq0IqVDjqUDPaknr05i","EventManager",void 0);t("default",function(t){function s(){for(var n,e=arguments.length,s=new Array(e),c=0;c<e;c++)s[c]=arguments[c];return(n=t.call.apply(t,[this].concat(s))||this).events=new Map,n}n(s,t);var c=s.prototype;return c.on=function(t,n,e){this.events.has(t)?this.events.get(t).push({func:n,context:e}):this.events.set(t,[{func:n,context:e}])},c.off=function(t,n,e){if(this.events.has(t)){var s=this.events.get(t).findIndex((function(t){return t.func===n&&t.context===e}));-1!==s&&this.events.get(t).splice(s,1)}},c.emit=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),s=1;s<n;s++)e[s-1]=arguments[s];this.events.has(t)&&this.events.get(t).forEach((function(t){var n=t.func,s=t.context;n.apply(s||null,e)}))},c.clear=function(){this.events.clear()},e(s,null,[{key:"instance",get:function(){return t.getInstance.call(this)}}]),s}(c));s._RF.pop()}}}));

System.register("chunks:///_virtual/FaderManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./DrawManager.ts","./index.ts"],(function(e){var t,n,r,a,i,o,s,u,c,f,d;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){i=e.cclegacy,o=e.RenderRoot2D,s=e.director},function(e){u=e.default},function(e){c=e.DrawManager,f=e.DEFAULT_FADE_DURATION},function(e){d=e.CreateUINode}],execute:function(){i._RF.push({},"6449cwZ7AFAzoB1iV1rpwa0","FaderManager",void 0);e("default",function(e){function i(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._fader=null,t}t(i,e);var u=i.prototype;return u.fadeIn=function(){var e=r(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=f),e.next=3,this.fader.fadeIn(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),u.fadeOut=function(){var e=r(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=f),e.next=3,this.fader.fadeOut(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),u.mask=function(){this.fader.mask()},n(i,[{key:"fader",get:function(){if(null!==this._fader)return this._fader;var e=d("persistRoot");e.addComponent(o);var t=d("fader");return t.setParent(e),this._fader=t.addComponent(c),this._fader.init(),s.addPersistRootNode(e),this._fader}}],[{key:"instance",get:function(){return e.getInstance.call(this)}}]),i}(u));i._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc","./index3.ts"],(function(t){var o,e,n,r,i,u,c;return{setters:[function(t){o=t.cclegacy,e=t.Node,n=t.UITransform,r=t.Vec2,i=t.Layers},function(t){u=t.EInput,c=t.EDirection}],execute:function(){o._RF.push({},"8140cFosolJzJxsmaQW2URI","index",void 0);t("CreateUINode",(function(t){void 0===t&&(t="");var o=new e(t);return o.addComponent(n).anchorPoint=new r(0,1),o.layer=i.Enum.UI_2D,o})),t("mapInputToDirection",(function(t){switch(t){case u.Left:return c.Left;case u.Right:return c.Right;case u.Top:return c.Top;case u.Bottom:return c.Bottom;default:return null}})),t("numberToWord",{0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five"}),t("getRelativeDirection",(function(t,o){var e,n,r=((e={})[c.Top]=c.Left,e[c.Left]=c.Bottom,e[c.Bottom]=c.Right,e[c.Right]=c.Top,e),i=((n={})[c.Top]=c.Right,n[c.Right]=c.Bottom,n[c.Bottom]=c.Left,n[c.Left]=c.Top,n);return o===r[t]?c.Left:o===i[t]?c.Right:c.None})),t("mapTurnDirectionToBlockedDirection",(function(t,o){var e,n,r=((e={})[c.Top]=c.Left,e[c.Left]=c.Bottom,e[c.Bottom]=c.Right,e[c.Right]=c.Top,e),i=((n={})[c.Top]=c.Right,n[c.Right]=c.Bottom,n[c.Bottom]=c.Left,n[c.Left]=c.Top,n);return o===u.TurnLeft?r[t]:i[t]}));o._RF.pop()}}}));

System.register("chunks:///_virtual/index2.ts",["cc","./Level1.ts","./Level2.ts","./Level3.ts","./Level4.ts","./Level5.ts","./Level6.ts","./Level7.ts","./Level8.ts","./Level9.ts","./Level10.ts","./Level11.ts","./Level12.ts","./Level13.ts","./Level14.ts","./Level15.ts","./Level16.ts","./Level17.ts","./Level18.ts","./Level19.ts","./Level20.ts"],(function(e){var l,t,n,u,f,v,c,i,s,a,o,d,L,r,p,x,A,F,_,g,h;return{setters:[function(e){l=e.cclegacy},function(e){t=e.default},function(e){n=e.default},function(e){u=e.default},function(e){f=e.default},function(e){v=e.default},function(e){c=e.default},function(e){i=e.default},function(e){s=e.default},function(e){a=e.default},function(e){o=e.default},function(e){d=e.default},function(e){L=e.default},function(e){r=e.default},function(e){p=e.default},function(e){x=e.default},function(e){A=e.default},function(e){F=e.default},function(e){_=e.default},function(e){g=e.default},function(e){h=e.default}],execute:function(){l._RF.push({},"c09a9WIMApF65MAKOASvuci","index",void 0);e("default",{level1:t,level2:n,level3:u,level4:f,level5:v,level6:c,level7:i,level8:s,level9:a,level10:o,level11:d,level12:L,level13:r,level14:p,level15:x,level16:A,level17:F,level18:_,level19:g,level20:h});l._RF.pop()}}}));

System.register("chunks:///_virtual/index3.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"ff7398eBI1K4JeAsZcqJMu1","index",void 0);e("ETileType",function(e){return e.WallRow="WallRow",e.WallColumn="WallColumn",e.WallLeftTop="WallLeftTop",e.WallLeftBottom="WallLeftBottom",e.WallRightTop="WallRightTop",e.WallRightBottom="WallRightBottom",e.CliffCenter="CliffCenter",e.CliffLeft="CliffLeft",e.CliffRight="CliffRight",e.Floor="Floor",e}({})),e("EEvent",function(e){return e.NextLevel="NextLevel",e.PlayerInput="PlayerInput",e.playerSpawned="playerSpawned",e.PlayerMoveEnd="PlayerMoveEnd",e.playerActionCompleted="playerActionCompleted",e.Death="Death",e.FallingDeath="FallingDeath",e.OpenDoor="OpenDoor",e.ResetTrapPoint="ResetTrapPoint",e.SpawnSmoke="SpawnSmoke",e.ScreenShake="ScreenShake",e.RecordStep="RecordStep",e.RevokeStep="RevokeStep",e.RestartLevel="RestartLevel",e.QuitBattle="QuitBattle",e}({})),e("EScene",function(e){return e.Loading="Loading",e.Start="Start",e.Battle="Battle",e}({})),e("EInput",function(e){return e.Left="Left",e.Right="Right",e.Top="Top",e.Bottom="Bottom",e.TurnLeft="TurnLeft",e.TurnRight="TurnRight",e}({})),e("EStateMachineParamType",function(e){return e[e.FLOAT=0]="FLOAT",e[e.BOOLEAN=1]="BOOLEAN",e[e.TRIGGER=2]="TRIGGER",e[e.INTEGER=3]="INTEGER",e[e.VEC3_experimental=4]="VEC3_experimental",e[e.QUAT_experimental=5]="QUAT_experimental",e}({})),e("EEntityState",function(e){return e.Idle="Idle",e.TurnLeft="TurnLeft",e.TurnRight="TurnRight",e.BlockedFront="BlockedFront",e.BlockedBack="BlockedBack",e.BlockedLeft="BlockedLeft",e.BlockedRight="BlockedRight",e.BlockedTurnLeft="BlockedTurnLeft",e.BlockedTurnRight="BlockedTurnRight",e.Attack="Attack",e.Death="Death",e.FallingDeath="FallingDeath",e}({})),e("EEntityStateMachineParams",function(e){return e.Direction="Direction",e.Idle="Idle",e.TurnLeft="TurnLeft",e.TurnRight="TurnRight",e.BlockedFront="BlockedFront",e.BlockedBack="BlockedBack",e.BlockedLeft="BlockedLeft",e.BlockedRight="BlockedRight",e.BlockedTurnLeft="BlockedTurnLeft",e.BlockedTurnRight="BlockedTurnRight",e.Attack="Attack",e.Death="Death",e.FallingDeath="FallingDeath",e.CurrentPoint="CurrentPoint",e}({})),e("EDirection",function(e){return e.Left="Left",e.Right="Right",e.Top="Top",e.Bottom="Bottom",e.None="None",e}({})),e("EEntityType",function(e){return e[e.Player=0]="Player",e[e.Enemy=1]="Enemy",e[e.Door=2]="Door",e[e.Trap=3]="Trap",e[e.Smoke=4]="Smoke",e}({})),e("EEnemyType",function(e){return e[e.WoodenSkeleton=0]="WoodenSkeleton",e[e.IronSkeleton=1]="IronSkeleton",e}({})),e("ETrapType",function(e){return e[e.Burst=0]="Burst",e[e.SpikesOne=1]="SpikesOne",e[e.SpikesTwo=2]="SpikesTwo",e[e.SpikesThree=3]="SpikesThree",e[e.SpikerFour=4]="SpikerFour",e}({})),e("EActionResult",function(e){return e[e.Perform=0]="Perform",e[e.Attack=1]="Attack",e[e.Blocked=2]="Blocked",e}({})),e("FadeStatus",function(e){return e[e.Idle=0]="Idle",e[e.fadeIn=1]="fadeIn",e[e.fadeOut=2]="fadeOut",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/IronSkeletonDeadSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyDeadSubStateMachine.ts"],(function(e){var t,n,o,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e.AnimationClip},function(e){a=e.EnemyDeadSubStateMachine}],execute:function(){n._RF.push({},"683e8vG7rBF4JHTW4FkNGS3","IronSkeletonDeadSubStateMachine",void 0);e("IronSkeletonDeadSubStateMachine",function(e){function n(t){return e.call(this,t,"texture/ironskeleton/death",o.WrapMode.Normal)||this}return t(n,e),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/IronSkeletonIdleSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyIdleSubStateMachine.ts"],(function(e){var t,n,o,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e.AnimationClip},function(e){i=e.EnemyIdleSubStateMachine}],execute:function(){n._RF.push({},"4a31a67c5RFjZ4wVRO9YCf6","IronSkeletonIdleSubStateMachine",void 0);e("IronSkeletonIdleSubStateMachine",function(e){function n(t){return e.call(this,t,"texture/ironskeleton/idle",o.WrapMode.Loop)||this}return t(n,e),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/IronSkeletonManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyManager.ts"],(function(n){var e,r,t,o,a,c;return{setters:[function(n){e=n.inheritsLoose,r=n.asyncToGenerator,t=n.regeneratorRuntime},function(n){o=n.cclegacy,a=n._decorator},function(n){c=n.EnemyManager}],execute:function(){var i;o._RF.push({},"38389zfZRROfbc60Orkg6dy","IronSkeletonManager",void 0);var u=a.ccclass;a.property,n("IronSkeletonManager",u("IronSkeletonManager")(i=function(n){function o(){return n.apply(this,arguments)||this}e(o,n);var a=o.prototype;return a.init=function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.prototype.init.call(this,r);case 2:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),a.tryAttackPlayer=function(){},o}(c))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/IronSkeletonStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyStateMachine.ts","./index3.ts","./IronSkeletonIdleSubStateMachine.ts","./IronSkeletonDeadSubStateMachine.ts"],(function(t){var e,n,r,i,a,o,c,s,u;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){i=t.cclegacy,a=t._decorator},function(t){o=t.EnemyStateMachine},function(t){c=t.EEntityState},function(t){s=t.IronSkeletonIdleSubStateMachine},function(t){u=t.IronSkeletonDeadSubStateMachine}],execute:function(){var h;i._RF.push({},"bf220PNndFLabupoAjkMjk7","IronSkeletonStateMachine",void 0);var l=a.ccclass;t("IronSkeletonStateMachine",l("IronSkeletonStateMachine")(h=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var a=i.prototype;return a.init=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.prototype.init.call(this);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.initStates=function(){var t=n(r().mark((function t(){var e,n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new s(this),n=new u(this),t.next=4,Promise.all([e.init(),n.init()]);case 4:this.states.set(c.Idle,e),this.states.set(c.Death,n);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i}(o))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/Level1.ts",["cc","./index3.ts"],(function(l){var t,e,o,r;return{setters:[function(l){t=l.cclegacy,e=l.Vec2},function(l){o=l.ETileType,r=l.EEnemyType}],execute:function(){t._RF.push({},"fea60l4zUREJIoBB3+tDzRr","Level1",void 0);var p=[[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:16,type:o.WallLeftTop},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:13,type:o.WallLeftBottom},{src:18,type:o.CliffLeft}],[{src:16,type:o.WallLeftTop},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:14,type:o.WallRightBottom},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:21,type:o.WallRightBottom},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:16,type:o.WallLeftTop},{src:13,type:o.WallLeftBottom},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:20,type:o.WallLeftBottom},{src:17,type:o.CliffCenter}],[{src:15,type:o.WallRightTop},{src:13,type:o.WallLeftBottom},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:15,type:o.WallRightTop},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:14,type:o.WallRightBottom},{src:19,type:o.CliffRight}],[{src:null,type:null},{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:16,type:o.WallLeftTop},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:13,type:o.WallLeftBottom},{src:18,type:o.CliffLeft}],[{src:16,type:o.WallLeftTop},{src:14,type:o.WallRightBottom},{src:1,type:o.Floor},{src:15,type:o.WallRightTop},{src:14,type:o.WallRightBottom},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:21,type:o.WallRightBottom},{src:19,type:o.CliffRight}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:16,type:o.WallLeftTop},{src:13,type:o.WallLeftBottom},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:20,type:o.WallLeftBottom},{src:17,type:o.CliffCenter}],[{src:15,type:o.WallRightTop},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:14,type:o.WallRightBottom},{src:15,type:o.WallRightTop},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:14,type:o.WallRightBottom},{src:19,type:o.CliffRight}]],s={position:new e(2,8)},c=[{position:new e(7,6),enemyType:r.WoodenSkeleton}],y={position:new e(7,8)};l("default",{mapInfo:p,player:s,enemies:c,spikes:[],bursts:[],door:y});t._RF.pop()}}}));

System.register("chunks:///_virtual/Level10.ts",["cc","./index3.ts"],(function(e){var t,r,o,l,p,s;return{setters:[function(e){t=e.cclegacy,r=e.Vec2},function(e){o=e.ETileType,l=e.EDirection,p=e.EEnemyType,s=e.ETrapType}],execute:function(){t._RF.push({},"c4f68u/DLBCF5rNs/E95JHF","Level10",void 0);var c=[[{src:16,type:o.WallLeftTop},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:25,type:o.WallLeftTop},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:23,type:o.WallLeftBottom},{src:18,type:o.CliffLeft}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:21,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:17,type:o.CliffCenter},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:17,type:o.CliffCenter},{src:20,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:24,type:o.WallRow},{src:17,type:o.CliffCenter},{src:null,type:null},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:17,type:o.CliffCenter},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:20,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:21,type:o.WallRightTop},{src:1,type:o.Floor},{src:15,type:o.WallRightTop},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:14,type:o.WallRightBottom},{src:19,type:o.CliffRight}]],y={position:new r(1,7)},n=[{position:new r(1,3),direction:l.Bottom,enemyType:p.WoodenSkeleton},{position:new r(2,4),direction:l.Bottom,enemyType:p.IronSkeleton},{position:new r(5,5),direction:l.Left,enemyType:p.WoodenSkeleton}],i=[{position:new r(4,3),trapType:s.SpikesThree}],a=[{position:new r(3,4),trapType:s.Burst},{position:new r(3,5),trapType:s.Burst}],f={position:new r(6,1),direction:l.Left};e("default",{mapInfo:c,player:y,enemies:n,spikes:i,bursts:a,door:f});t._RF.pop()}}}));

System.register("chunks:///_virtual/Level11.ts",["cc","./index3.ts"],(function(e){var t,r,o,l,p,s;return{setters:[function(e){t=e.cclegacy,r=e.Vec2},function(e){o=e.ETileType,l=e.EDirection,p=e.EEnemyType,s=e.ETrapType}],execute:function(){t._RF.push({},"21472w9I8RBlL08/b9eghU1","Level11",void 0);var y=[[{src:16,type:o.WallLeftTop},{src:5,type:o.WallColumn},{src:23,type:o.WallRightBottom},{src:1,type:o.Floor},{src:22,type:o.WallRightTop},{src:13,type:o.WallLeftBottom},{src:18,type:o.CliffLeft}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:24,type:o.WallRow},{src:17,type:o.CliffCenter},{src:null,type:null},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:17,type:o.CliffCenter},{src:1,type:o.Floor},{src:22,type:o.WallRightTop},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:24,type:o.WallRow},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:15,type:o.WallRightTop},{src:23,type:o.WallRightBottom},{src:1,type:o.Floor},{src:17,type:o.CliffCenter},{src:null,type:null},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:22,type:o.WallRightTop},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:14,type:o.WallRightBottom},{src:19,type:o.CliffRight}]],c={position:new r(0,3),direction:l.Right},n=[{position:new r(4,2),direction:l.Left,enemyType:p.WoodenSkeleton},{position:new r(6,1),direction:l.Left,enemyType:p.IronSkeleton},{position:new r(9,1),direction:l.Left,enemyType:p.IronSkeleton}],i=[{position:new r(4,1),trapType:s.SpikesThree},{position:new r(6,3),trapType:s.SpikesTwo}],a=[{position:new r(3,3),trapType:s.Burst},{position:new r(3,4),trapType:s.Burst},{position:new r(5,2),trapType:s.Burst},{position:new r(8,3),trapType:s.Burst},{position:new r(8,4),trapType:s.Burst}],f={position:new r(9,0)};e("default",{mapInfo:y,player:c,enemies:n,spikes:i,bursts:a,door:f});t._RF.pop()}}}));

System.register("chunks:///_virtual/Level12.ts",["cc","./index3.ts"],(function(e){var l,t,r,p,o,s;return{setters:[function(e){l=e.cclegacy,t=e.Vec2},function(e){r=e.ETileType,p=e.EDirection,o=e.EEnemyType,s=e.ETrapType}],execute:function(){l._RF.push({},"6107cAU9FVHs5lit27vgfo2","Level12",void 0);var c=[[{src:20,type:r.WallLeftTop},{src:1,type:r.Floor},{src:18,type:r.CliffLeft},{src:null,type:null},{src:null,type:null},{src:20,type:r.WallLeftBottom},{src:18,type:r.CliffLeft}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:17,type:r.CliffCenter},{src:null,type:null},{src:null,type:null},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:17,type:r.CliffCenter},{src:null,type:null},{src:null,type:null},{src:21,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:17,type:r.CliffCenter},{src:null,type:null},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:17,type:r.CliffCenter}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:17,type:r.CliffCenter},{src:null,type:null},{src:1,type:r.Floor},{src:20,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:22,type:r.WallRow},{src:23,type:r.WallRow},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:17,type:r.CliffCenter},{src:null,type:null},{src:null,type:null},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:21,type:r.WallRow},{src:1,type:r.Floor},{src:17,type:r.CliffCenter},{src:null,type:null},{src:null,type:null},{src:21,type:r.WallRow},{src:17,type:r.CliffCenter}]],y={position:new t(3,5)},n=[{position:new t(1,1),direction:p.Bottom,enemyType:o.IronSkeleton},{position:new t(6,2),direction:p.Left,enemyType:o.WoodenSkeleton}],i=[{position:new t(4,2),trapType:s.Burst},{position:new t(4,3),trapType:s.Burst}],f={position:new t(0,1),direction:p.Left};e("default",{mapInfo:c,player:y,enemies:n,spikes:[],bursts:i,door:f});l._RF.pop()}}}));

System.register("chunks:///_virtual/Level13.ts",["cc","./index3.ts"],(function(l){var e,t,r,p,n,s;return{setters:[function(l){e=l.cclegacy,t=l.Vec2},function(l){r=l.ETileType,p=l.EDirection,n=l.EEnemyType,s=l.ETrapType}],execute:function(){e._RF.push({},"13b369gXMJJSYrmElZ9RSkv","Level13",void 0);var c=[[{src:16,type:r.WallLeftTop},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:23,type:r.WallLeftBottom},{src:18,type:r.CliffLeft}],[{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:17,type:r.CliffCenter}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:16,type:r.WallLeftTop},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:23,type:r.WallRightBottom},{src:19,type:r.CliffRight}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:17,type:r.CliffCenter},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:17,type:r.CliffCenter},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:17,type:r.CliffCenter},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:21,type:r.WallRow},{src:1,type:r.Floor},{src:22,type:r.WallRightTop},{src:14,type:r.WallRow},{src:19,type:r.CliffRight},{src:null,type:null},{src:null,type:null},{src:null,type:null}]],o={position:new t(10,1),direction:p.Left},y=[{position:new t(1,4),direction:p.Right,enemyType:n.WoodenSkeleton},{position:new t(3,2),direction:p.Right,enemyType:n.IronSkeleton},{position:new t(5,1),direction:p.Right,enemyType:n.WoodenSkeleton}],u=[{position:new t(1,1),trapType:s.Burst},{position:new t(5,2),trapType:s.Burst}],i={position:new t(1,6)};l("default",{mapInfo:c,player:o,enemies:y,spikes:[],bursts:u,door:i});e._RF.pop()}}}));

System.register("chunks:///_virtual/Level14.ts",["cc","./index3.ts"],(function(e){var t,r,l,o,p,s;return{setters:[function(e){t=e.cclegacy,r=e.Vec2},function(e){l=e.ETileType,o=e.EDirection,p=e.EEnemyType,s=e.ETrapType}],execute:function(){t._RF.push({},"8b369gAq8lNyJ6XIcQ9Z5QG","Level14",void 0);var y=[[{src:22,type:l.WallLeftTop},{src:5,type:l.WallColumn},{src:5,type:l.WallColumn},{src:5,type:l.WallColumn},{src:5,type:l.WallColumn},{src:13,type:l.WallLeftBottom},{src:18,type:l.CliffLeft}],[{src:1,type:l.Floor},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:17,type:l.CliffCenter},{src:9,type:l.WallRow},{src:17,type:l.CliffCenter}],[{src:20,type:l.WallRow},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:9,type:l.WallRow},{src:19,type:l.CliffRight}],[{src:9,type:l.WallRow},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:17,type:l.CliffCenter},{src:1,type:l.Floor},{src:9,type:l.WallRow},{src:17,type:l.CliffCenter}],[{src:9,type:l.WallRow},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:9,type:l.WallRow},{src:19,type:l.CliffCenter}],[{src:9,type:l.WallRow},{src:1,type:l.Floor},{src:17,type:l.CliffRight},{src:1,type:l.Floor},{src:17,type:l.CliffRight},{src:9,type:l.WallRow},{src:19,type:l.CliffCenter}],[{src:9,type:l.WallRow},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:9,type:l.WallRow},{src:19,type:l.CliffCenter}],[{src:27,type:l.WallRow},{src:5,type:l.WallColumn},{src:23,type:l.WallRightBottom},{src:19,type:l.CliffCenter},{src:null,type:null},{src:9,type:l.WallRow},{src:19,type:l.CliffCenter}],[{src:9,type:l.WallRow},{src:1,type:l.Floor},{src:17,type:l.CliffCenter},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:9,type:l.WallRow},{src:19,type:l.CliffCenter}],[{src:9,type:l.WallRow},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:16,type:l.WallLeftTop},{src:5,type:l.WallColumn},{src:14,type:l.WallRightBottom},{src:19,type:l.CliffCenter}],[{src:21,type:l.WallRow},{src:1,type:l.Floor},{src:22,type:l.WallRightTop},{src:14,type:l.WallRightBottom},{src:17,type:l.CliffCenter},{src:null,type:null},{src:null,type:null}]],c={position:new r(1,0),direction:o.Bottom},n=[{position:new r(3,4),enemyType:p.WoodenSkeleton},{position:new r(8,3),direction:o.Left,enemyType:p.WoodenSkeleton}],i=[{position:new r(3,2),trapType:s.SpikesTwo}],f=[{position:new r(1,4),trapType:s.Burst},{position:new r(5,2),trapType:s.Burst},{position:new r(5,4),trapType:s.Burst},{position:new r(7,3),trapType:s.Burst},{position:new r(7,4),trapType:s.Burst},{position:new r(8,2),trapType:s.Burst}],a={position:new r(10,1),direction:o.Left};e("default",{mapInfo:y,player:c,enemies:n,spikes:i,bursts:f,door:a});t._RF.pop()}}}));

System.register("chunks:///_virtual/Level15.ts",["cc","./index3.ts"],(function(l){var e,t,r,o,p,s;return{setters:[function(l){e=l.cclegacy,t=l.Vec2},function(l){r=l.ETileType,o=l.EDirection,p=l.EEnemyType,s=l.ETrapType}],execute:function(){e._RF.push({},"a3c3dsLCthLBJZXr9LOAvYt","Level15",void 0);var c=[[{src:20,type:r.WallRow},{src:1,type:r.Floor},{src:22,type:r.WallColumn},{src:5,type:r.WallColumn},{src:25,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:13,type:r.WallLeftBottom},{src:18,type:r.CliffLeft}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:21,type:r.WallRightTop},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:15,type:r.WallRightTop},{src:5,type:r.WallColumn},{src:13,type:r.WallLeftBottom},{src:1,type:r.Floor},{src:17,type:r.CliffCenter},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:null,type:null},{src:null,type:null},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:null,type:null},{src:null,type:null},{src:1,type:r.Floor},{src:22,type:r.WallRow},{src:28,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:null,type:null},{src:null,type:null},{src:15,type:r.WallRightTop},{src:13,type:r.WallLeftBottom},{src:18,type:r.CliffLeft},{src:null,type:null},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:null,type:null},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:15,type:r.WallRightTop},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:23,type:r.WallRightBottom},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}]],y={position:new t(0,1),direction:o.Right},n=[{position:new t(2,4),enemyType:p.WoodenSkeleton},{position:new t(4,6),enemyType:p.WoodenSkeleton}],i=[{position:new t(1,2),trapType:s.SpikesThree},{position:new t(2,2),trapType:s.SpikesThree},{position:new t(2,6),trapType:s.SpikesTwo}],u={position:new t(7,7),direction:o.Left};l("default",{mapInfo:c,player:y,enemies:n,spikes:i,bursts:[],door:u});e._RF.pop()}}}));

System.register("chunks:///_virtual/Level16.ts",["cc","./index3.ts"],(function(e){var t,l,o,r,p,s;return{setters:[function(e){t=e.cclegacy,l=e.Vec2},function(e){o=e.ETileType,r=e.EDirection,p=e.EEnemyType,s=e.ETrapType}],execute:function(){t._RF.push({},"7d146+khNVMU5FJr7oINloa","Level16",void 0);var y=[[{src:20,type:o.WallRow},{src:1,type:o.Floor},{src:20,type:o.WallRow},{src:18,type:o.CliffLeft},{src:null,type:null},{src:null,type:null},{src:20,type:o.WallLeftBottom},{src:1,type:o.Floor},{src:20,type:o.WallRow},{src:18,type:o.CliffLeft}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter},{src:16,type:o.WallLeftTop},{src:5,type:o.WallColumn},{src:14,type:o.WallRightBottom},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter},{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:15,type:o.WallRightTop},{src:5,type:o.WallColumn},{src:14,type:o.WallRightBottom},{src:17,type:o.CliffCenter},{src:null,type:null},{src:null,type:null},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:16,type:o.WallLeftTop},{src:14,type:o.WallRightBottom},{src:19,type:o.CliffRight}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:19,type:o.CliffRight},{src:null,type:null}],[{src:15,type:o.WallRightTop},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:14,type:o.WallRightBottom},{src:19,type:o.CliffRight},{src:null,type:null}]],c={position:new l(0,1),direction:r.Right},n=[{position:new l(4,4),direction:r.Left,enemyType:p.WoodenSkeleton},{position:new l(5,3),direction:r.Left,enemyType:p.WoodenSkeleton},{position:new l(6,2),direction:r.Left,enemyType:p.WoodenSkeleton},{position:new l(4,6),enemyType:p.IronSkeleton},{position:new l(4,7),enemyType:p.IronSkeleton}],i=[{position:new l(4,5),trapType:s.SpikesThree},{position:new l(5,5),trapType:s.SpikesTwo},{position:new l(6,5),trapType:s.SpikesOne}],a=[{position:new l(3,5),trapType:s.Burst},{position:new l(3,6),trapType:s.Burst},{position:new l(3,7),trapType:s.Burst}],f={position:new l(0,7),direction:r.Left};e("default",{mapInfo:y,player:c,enemies:n,spikes:i,bursts:a,door:f});t._RF.pop()}}}));

System.register("chunks:///_virtual/Level17.ts",["cc","./index3.ts"],(function(e){var t,r,o,p,l,s;return{setters:[function(e){t=e.cclegacy,r=e.Vec2},function(e){o=e.ETileType,p=e.EDirection,l=e.EEnemyType,s=e.ETrapType}],execute:function(){t._RF.push({},"1e4e4bp6FlIk5VvsKp3rIzJ","Level17",void 0);var y=[[{src:20,type:o.WallRow},{src:1,type:o.Floor},{src:22,type:o.WallLeftTop},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:13,type:o.WallLeftBottom},{src:18,type:o.CliffLeft}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:17,type:o.CliffCenter},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:17,type:o.CliffCenter},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:17,type:o.CliffCenter},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:17,type:o.CliffCenter},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:17,type:o.CliffCenter},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:17,type:o.CliffCenter},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:17,type:o.CliffCenter},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:17,type:o.CliffCenter},{src:1,type:o.Floor},{src:17,type:o.CliffCenter},{src:null,type:null},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:17,type:o.CliffCenter},{src:null,type:null},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:15,type:o.WallRightTop},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:23,type:o.WallRightBottom},{src:1,type:o.Floor},{src:21,type:o.WallRow},{src:19,type:o.CliffRight}]],c={position:new r(7,7),direction:p.Left},n=[{position:new r(2,1),direction:p.Bottom,enemyType:l.WoodenSkeleton},{position:new r(2,4),direction:p.Right,enemyType:l.WoodenSkeleton}],i=[{position:new r(1,3),trapType:s.SpikesTwo},{position:new r(3,3),trapType:s.SpikesTwo},{position:new r(4,1),trapType:s.SpikesTwo},{position:new r(4,4),trapType:s.SpikesTwo},{position:new r(4,6),trapType:s.SpikesTwo},{position:new r(5,3),trapType:s.SpikesTwo},{position:new r(6,2),trapType:s.SpikesTwo},{position:new r(6,6),trapType:s.SpikesTwo}],a=[{position:new r(1,6),trapType:s.Burst},{position:new r(2,6),trapType:s.Burst},{position:new r(3,6),trapType:s.Burst},{position:new r(4,2),trapType:s.Burst},{position:new r(4,5),trapType:s.Burst},{position:new r(5,4),trapType:s.Burst},{position:new r(5,5),trapType:s.Burst},{position:new r(6,5),trapType:s.Burst}],f={position:new r(0,1),direction:p.Left};e("default",{mapInfo:y,player:c,enemies:n,spikes:i,bursts:a,door:f});t._RF.pop()}}}));

System.register("chunks:///_virtual/Level18.ts",["cc","./index3.ts"],(function(l){var e,t,r,p,o,n;return{setters:[function(l){e=l.cclegacy,t=l.Vec2},function(l){r=l.ETileType,p=l.EDirection,o=l.EEnemyType,n=l.ETrapType}],execute:function(){e._RF.push({},"d98dcLB1ApNFY7uvTsDIHfK","Level18",void 0);var s=[[{src:16,type:r.WallLeftTop},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:13,type:r.WallLeftBottom},{src:18,type:r.CliffLeft}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:17,type:r.CliffCenter},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:1,type:r.Floor},{src:16,type:r.WallLeftTop},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:13,type:r.WallLeftBottom},{src:1,type:r.Floor},{src:17,type:r.CliffCenter},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:15,type:r.WallRightTop},{src:13,type:r.WallLeftBottom},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:null,type:null},{src:null,type:null},{src:21,type:r.WallRow},{src:1,type:r.Floor},{src:22,type:r.WallColumn},{src:14,type:r.WallRightBottom},{src:19,type:r.CliffRight}],[{src:null,type:null},{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:null,type:null},{src:21,type:r.WallRow},{src:1,type:r.Floor},{src:21,type:r.WallRow},{src:17,type:r.CliffCenter},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}]],c={position:new t(3,8),direction:p.Left},y=[{position:new t(1,1),direction:p.Bottom,enemyType:o.WoodenSkeleton},{position:new t(3,2),direction:p.Bottom,enemyType:o.WoodenSkeleton}],u=[{position:new t(1,4),trapType:n.SpikesTwo},{position:new t(1,6),trapType:n.SpikesTwo},{position:new t(1,8),trapType:n.SpikerFour}],i=[{position:new t(1,5),trapType:n.Burst},{position:new t(2,9),trapType:n.Burst}],a={position:new t(5,2),direction:p.Left};l("default",{mapInfo:s,player:c,enemies:y,spikes:u,bursts:i,door:a});e._RF.pop()}}}));

System.register("chunks:///_virtual/Level19.ts",["cc","./index3.ts"],(function(e){var l,t,r,o,p,s;return{setters:[function(e){l=e.cclegacy,t=e.Vec2},function(e){r=e.ETileType,o=e.EDirection,p=e.EEnemyType,s=e.ETrapType}],execute:function(){l._RF.push({},"2387cgemE9DpaZUqNsY+UcT","Level19",void 0);var y=[[{src:20,type:r.WallRow},{src:1,type:r.Floor},{src:20,type:r.WallRow},{src:17,type:r.CliffCenter},{src:16,type:r.WallLeftTop},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:13,type:r.WallLeftBottom},{src:18,type:r.CliffLeft}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:17,type:r.CliffCenter},{src:null,type:null},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:15,type:r.WallRightTop},{src:5,type:r.WallColumn},{src:14,type:r.WallRightBottom},{src:1,type:r.Floor},{src:16,type:r.WallLeftTop},{src:5,type:r.WallColumn},{src:13,type:r.WallLeftBottom},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:19,type:r.CliffRight}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:15,type:r.WallRightTop},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:14,type:r.WallRightBottom},{src:19,type:r.CliffRight},{src:21,type:r.WallRow},{src:1,type:r.Floor},{src:21,type:r.WallRow},{src:19,type:r.CliffRight}]],c={position:new t(0,1),direction:o.Right},n=[{position:new t(2,5),enemyType:p.WoodenSkeleton},{position:new t(4,9),enemyType:p.WoodenSkeleton}],i=[{position:new t(1,5),trapType:s.Burst},{position:new t(1,6),trapType:s.Burst},{position:new t(1,7),trapType:s.Burst},{position:new t(1,8),trapType:s.Burst},{position:new t(1,9),trapType:s.Burst},{position:new t(2,6),trapType:s.Burst},{position:new t(2,7),trapType:s.Burst}],a={position:new t(6,9),direction:o.Left};e("default",{mapInfo:y,player:c,enemies:n,spikes:[],bursts:i,door:a});l._RF.pop()}}}));

System.register("chunks:///_virtual/Level2.ts",["cc","./index3.ts"],(function(e){var t,o,l,r,s;return{setters:[function(e){t=e.cclegacy,o=e.Vec2},function(e){l=e.ETileType,r=e.EDirection,s=e.EEnemyType}],execute:function(){t._RF.push({},"03f0917XJBDloM5I3n6Gk51","Level2",void 0);var p=[[{src:16,type:l.WallLeftTop},{src:5,type:l.WallColumn},{src:5,type:l.WallColumn},{src:5,type:l.WallColumn},{src:5,type:l.WallColumn},{src:13,type:l.WallLeftBottom},{src:18,type:l.CliffLeft}],[{src:21,type:l.WallRow},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:9,type:l.WallRow},{src:17,type:l.CliffCenter}],[{src:1,type:l.Floor},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:9,type:l.WallRow},{src:17,type:l.CliffCenter}],[{src:20,type:l.WallLeftBottom},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:9,type:l.WallRow},{src:17,type:l.CliffCenter}],[{src:9,type:l.WallRow},{src:1,type:l.Floor},{src:20,type:l.WallLeftBottom},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:9,type:l.WallRow},{src:17,type:l.CliffCenter}],[{src:15,type:l.WallRightTop},{src:5,type:l.WallColumn},{src:14,type:l.WallRightBottom},{src:1,type:l.Floor},{src:22,type:l.WallColumn},{src:14,type:l.WallRightBottom},{src:19,type:l.CliffRight}]],c={position:new o(2,0),direction:r.Bottom},y=[{position:new o(3,2),enemyType:s.WoodenSkeleton},{position:new o(4,3),enemyType:s.WoodenSkeleton}],n={position:new o(5,3),direction:r.Left};e("default",{mapInfo:p,player:c,enemies:y,spikes:[],bursts:[],door:n});t._RF.pop()}}}));

System.register("chunks:///_virtual/Level20.ts",["cc","./index3.ts"],(function(l){var e,t,r,p,o,s;return{setters:[function(l){e=l.cclegacy,t=l.Vec2},function(l){r=l.ETileType,p=l.EDirection,o=l.EEnemyType,s=l.ETrapType}],execute:function(){e._RF.push({},"32a39x4/55DVZunFq7spSXS","Level20",void 0);var n=[[{src:null,type:null},{src:16,type:r.WallLeftTop},{src:5,type:r.WallColumn},{src:23,type:r.WallRightBottom},{src:1,type:r.Floor},{src:20,type:r.WallRow},{src:18,type:r.CliffLeft}],[{src:null,type:null},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:null,type:null},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:null,type:null},{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:17,type:r.CliffCenter},{src:null,type:null},{src:21,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:null,type:null},{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:17,type:r.CliffCenter},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:null,type:null},{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:20,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:null,type:null},{src:15,type:r.WallRightTop},{src:25,type:r.WallColumn},{src:23,type:r.WallRightBottom},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:null,type:null},{src:null,type:null},{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:null,type:null},{src:null,type:null},{src:21,type:r.WallRow},{src:1,type:r.Floor},{src:17,type:r.CliffCenter},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:22,type:r.WallRightTop},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:14,type:r.WallRightBottom},{src:19,type:r.CliffRight}]],y={position:new t(0,4),direction:p.Right},c=[{position:new t(9,1),direction:p.Left,enemyType:o.WoodenSkeleton},{position:new t(9,3),direction:p.Left,enemyType:o.IronSkeleton},{position:new t(9,4),direction:p.Left,enemyType:o.IronSkeleton}],i=[{position:new t(1,2),trapType:s.Burst},{position:new t(1,3),trapType:s.Burst},{position:new t(2,3),trapType:s.Burst},{position:new t(2,4),trapType:s.Burst},{position:new t(7,4),trapType:s.Burst}],u={position:new t(9,0)};l("default",{mapInfo:n,player:y,enemies:c,spikes:[],bursts:i,door:u});e._RF.pop()}}}));

System.register("chunks:///_virtual/Level3.ts",["cc","./index3.ts"],(function(l){var e,t,r,p,n,s;return{setters:[function(l){e=l.cclegacy,t=l.Vec2},function(l){r=l.ETileType,p=l.EDirection,n=l.EEnemyType,s=l.ETrapType}],execute:function(){e._RF.push({},"9a7a1NVVGxMJIdMOW5ZbAp2","Level3",void 0);var o=[[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:20,type:r.WallLeftBottom},{src:1,type:r.Floor},{src:20,type:r.WallLeftBottom},{src:18,type:r.CliffLeft},{src:null,type:null}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:null,type:null}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:15,type:r.WallRightTop},{src:13,type:r.WallLeftBottom},{src:17,type:r.CliffCenter}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:22,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:14,type:r.WallRightBottom},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:22,type:r.WallColumn},{src:13,type:r.WallLeftBottom},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:null,type:null},{src:15,type:r.WallRightTop},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:14,type:r.WallRightBottom},{src:19,type:r.CliffRight}]],y={position:new t(0,8),direction:p.Right},c=[{position:new t(6,7),enemyType:n.WoodenSkeleton}],u=[{position:new t(4,8),trapType:s.SpikesOne},{position:new t(4,9),trapType:s.SpikesOne},{position:new t(6,3),trapType:s.SpikesOne},{position:new t(7,3),trapType:s.SpikesOne},{position:new t(6,5),trapType:s.SpikesOne},{position:new t(7,5),trapType:s.SpikesOne}],i={position:new t(6,0)};l("default",{mapInfo:o,player:y,enemies:c,spikes:u,bursts:[],door:i});e._RF.pop()}}}));

System.register("chunks:///_virtual/Level4.ts",["cc","./index3.ts"],(function(l){var t,e,o,r,s;return{setters:[function(l){t=l.cclegacy,e=l.Vec2},function(l){o=l.ETileType,r=l.EDirection,s=l.EEnemyType}],execute:function(){t._RF.push({},"a845fsVAAVDUZAlogZqoSTV","Level4",void 0);var p=[[{src:16,type:o.WallLeftTop},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:13,type:o.WallLeftBottom},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:21,type:o.WallRightBottom},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:15,type:o.WallRightTop},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:23,type:o.WallLeftBottom},{src:18,type:o.CliffLeft}],[{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:17,type:o.CliffCenter}],[{src:20,type:o.WallLeftBottom},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:17,type:o.CliffCenter},{src:null,type:null},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:20,type:o.WallLeftBottom},{src:17,type:o.CliffCenter}],[{src:15,type:o.WallRightTop},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:5,type:o.WallColumn},{src:14,type:o.WallRightBottom},{src:19,type:o.CliffRight}]],c={position:new e(2,7)},y=[{position:new e(1,3),direction:r.Bottom,enemyType:s.IronSkeleton}],n={position:new e(2,0)};l("default",{mapInfo:p,player:c,enemies:y,spikes:[],bursts:[],door:n});t._RF.pop()}}}));

System.register("chunks:///_virtual/Level5.ts",["cc","./index3.ts"],(function(e){var t,r,l,o,s;return{setters:[function(e){t=e.cclegacy,r=e.Vec2},function(e){l=e.ETileType,o=e.EDirection,s=e.EEnemyType}],execute:function(){t._RF.push({},"57bbd5oWBtJBrbMp6It/U2Q","Level5",void 0);var c=[[{src:16,type:l.WallLeftTop},{src:5,type:l.WallColumn},{src:5,type:l.WallColumn},{src:23,type:l.WallLeftBottom},{src:18,type:l.CliffLeft}],[{src:9,type:l.WallRow},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:1,type:l.Floor},{src:17,type:l.CliffCenter}],[{src:9,type:l.WallRow},{src:1,type:l.Floor},{src:17,type:l.CliffCenter},{src:20,type:l.WallRow},{src:17,type:l.CliffCenter}],[{src:9,type:l.WallRow},{src:1,type:l.Floor},{src:17,type:l.CliffCenter},{src:9,type:l.WallRow},{src:17,type:l.CliffCenter}],[{src:9,type:l.WallRow},{src:1,type:l.Floor},{src:17,type:l.CliffCenter},{src:9,type:l.WallRow},{src:17,type:l.CliffCenter}],[{src:9,type:l.WallRow},{src:1,type:l.Floor},{src:17,type:l.CliffCenter},{src:9,type:l.WallRow},{src:17,type:l.CliffCenter}],[{src:21,type:l.WallRightBottom},{src:1,type:l.Floor},{src:17,type:l.CliffCenter},{src:21,type:l.WallRow},{src:19,type:l.CliffRight}]],p={position:new r(1,3)},y=[{position:new r(5,1),direction:o.Left,enemyType:s.WoodenSkeleton}],n={position:new r(6,1),direction:o.Left};e("default",{mapInfo:c,player:p,enemies:y,spikes:[],bursts:[],door:n});t._RF.pop()}}}));

System.register("chunks:///_virtual/Level6.ts",["cc","./index3.ts"],(function(e){var r,t,o,l,c;return{setters:[function(e){r=e.cclegacy,t=e.Vec2},function(e){o=e.ETileType,l=e.EDirection,c=e.EEnemyType}],execute:function(){r._RF.push({},"a1b34SnBgtPhpALE+gfD/wK","Level6",void 0);var p=[[{src:16,type:o.WallLeftTop},{src:5,type:o.WallColumn},{src:23,type:o.WallColumn},{src:1,type:o.Floor},{src:22,type:o.WallColumn},{src:5,type:o.WallColumn},{src:13,type:o.WallLeftBottom},{src:18,type:o.CliffLeft}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:17,type:o.CliffCenter},{src:null,type:null},{src:1,type:o.Floor},{src:17,type:o.CliffCenter},{src:null,type:null},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:9,type:o.WallRow},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:1,type:o.Floor},{src:9,type:o.WallRow},{src:17,type:o.CliffCenter}],[{src:15,type:o.WallRightTop},{src:5,type:o.WallColumn},{src:23,type:o.WallRightBottom},{src:1,type:o.Floor},{src:22,type:o.WallColumn},{src:5,type:o.WallColumn},{src:14,type:o.WallRightBottom},{src:19,type:o.CliffRight}]],s={position:new t(0,3),direction:l.Right},y=[{position:new t(5,2),direction:l.Left,enemyType:c.WoodenSkeleton},{position:new t(5,4),direction:l.Left,enemyType:c.WoodenSkeleton}],n={position:new t(8,3),direction:l.Left};e("default",{mapInfo:p,player:s,enemies:y,spikes:[],bursts:[],door:n});r._RF.pop()}}}));

System.register("chunks:///_virtual/Level7.ts",["cc","./index3.ts"],(function(e){var o,t,r,l,p,s;return{setters:[function(e){o=e.cclegacy,t=e.Vec2},function(e){r=e.ETileType,l=e.EDirection,p=e.EEnemyType,s=e.ETrapType}],execute:function(){o._RF.push({},"7322cxxRt9HUZmBTC3l8ySx","Level7",void 0);var c=[[{src:16,type:r.WallLeftTop},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:13,type:r.WallLeftBottom},{src:18,type:r.CliffLeft}],[{src:21,type:r.WallRightBottom},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:21,type:r.WallRightBottom},{src:17,type:r.CliffCenter}],[{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:17,type:r.CliffCenter}],[{src:20,type:r.WallLeftBottom},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:20,type:r.WallLeftBottom},{src:17,type:r.CliffCenter}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:17,type:r.CliffCenter}],[{src:15,type:r.WallRightTop},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:14,type:r.WallRightBottom},{src:19,type:r.CliffRight}]],y={position:new t(2,7)},n=[{position:new t(2,2),direction:l.Bottom,enemyType:p.WoodenSkeleton}],i=[{position:new t(1,4),trapType:s.SpikesOne},{position:new t(2,4),trapType:s.SpikesTwo},{position:new t(3,4),trapType:s.SpikesTwo},{position:new t(4,4),trapType:s.SpikesThree}],a={position:new t(2,0)};e("default",{mapInfo:c,player:y,enemies:n,spikes:i,bursts:[],door:a});o._RF.pop()}}}));

System.register("chunks:///_virtual/Level8.ts",["cc","./index3.ts"],(function(l){var e,t,n,r,p,s;return{setters:[function(l){e=l.cclegacy,t=l.Vec2},function(l){n=l.ETileType,r=l.EDirection,p=l.EEnemyType,s=l.ETrapType}],execute:function(){e._RF.push({},"36c99dmecdLsJpUyDbjRbFf","Level8",void 0);var u=[[{src:16,type:n.WallLeftTop},{src:5,type:n.WallColumn},{src:23,type:n.WallLeftBottom},{src:18,type:n.CliffLeft},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:n.WallRow},{src:1,type:n.Floor},{src:17,type:n.CliffCenter},{src:1,type:n.Floor},{src:1,type:n.Floor},{src:17,type:n.CliffCenter},{src:null,type:null},{src:1,type:n.Floor},{src:17,type:n.CliffCenter}],[{src:9,type:n.WallRow},{src:17,type:n.CliffCenter},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:n.WallRow},{src:17,type:n.CliffCenter},{src:20,type:n.WallRow},{src:18,type:n.CliffLeft},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:n.WallRow},{src:17,type:n.CliffCenter},{src:9,type:n.WallRow},{src:18,type:n.CliffLeft},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:n.WallRow},{src:17,type:n.CliffCenter},{src:21,type:n.WallRow},{src:18,type:n.CliffLeft},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:n.WallRow},{src:17,type:n.CliffCenter},{src:null,type:null},{src:1,type:n.Floor},{src:18,type:n.CliffLeft},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:n.WallRow},{src:1,type:n.Floor},{src:1,type:n.Floor},{src:1,type:n.Floor},{src:18,type:n.CliffLeft},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:n.WallRow},{src:1,type:n.Floor},{src:1,type:n.Floor},{src:1,type:n.Floor},{src:18,type:n.CliffLeft},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:n.WallRow},{src:1,type:n.Floor},{src:24,type:n.WallRow},{src:18,type:n.CliffLeft},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}]],y={position:new t(1,7)},c=[{position:new t(8,1),direction:r.Left,enemyType:p.WoodenSkeleton}],o=[{position:new t(1,2),trapType:s.Burst},{position:new t(1,5),trapType:s.Burst},{position:new t(1,6),trapType:s.Burst},{position:new t(2,1),trapType:s.Burst},{position:new t(3,1),trapType:s.Burst},{position:new t(4,1),trapType:s.Burst},{position:new t(5,1),trapType:s.Burst},{position:new t(6,1),trapType:s.Burst},{position:new t(6,2),trapType:s.Burst}],i={position:new t(9,1),direction:r.Left};l("default",{mapInfo:u,player:y,enemies:c,spikes:[],bursts:o,door:i});e._RF.pop()}}}));

System.register("chunks:///_virtual/Level9.ts",["cc","./index3.ts"],(function(e){var t,l,r,o,p,s;return{setters:[function(e){t=e.cclegacy,l=e.Vec2},function(e){r=e.ETileType,o=e.EDirection,p=e.EEnemyType,s=e.ETrapType}],execute:function(){t._RF.push({},"66eecujogtH+IwQGulp6Qy/","Level9",void 0);var n=[[{src:20,type:r.WallLeftBottom},{src:1,type:r.Floor},{src:22,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:13,type:r.WallLeftBottom},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:17,type:r.CliffCenter},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:9,type:r.WallRow},{src:16,type:r.WallRightTop},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:23,type:r.WallLeftBottom},{src:17,type:r.CliffCenter}],[{src:9,type:r.WallRow},{src:1,type:r.Floor},{src:17,type:r.CliffCenter},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:15,type:r.WallRightTop},{src:14,type:r.WallRightBottom},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:17,type:r.CliffCenter},{src:1,type:r.Floor},{src:18,type:r.CliffLeft}],[{src:9,type:r.WallRow},{src:17,type:r.CliffCenter},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:17,type:r.CliffCenter},{src:null,type:null},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:1,type:r.Floor},{src:17,type:r.CliffCenter},{src:20,type:r.WallLeftBottom},{src:17,type:r.CliffCenter}],[{src:15,type:r.WallRightTop},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:5,type:r.WallColumn},{src:14,type:r.WallRightBottom},{src:19,type:r.CliffRight}]],y={position:new l(2,11)},c=[{position:new l(1,1),direction:o.Bottom,enemyType:p.WoodenSkeleton},{position:new l(2,7),direction:o.Bottom,enemyType:p.WoodenSkeleton}],i=[{position:new l(1,3),trapType:s.SpikesThree},{position:new l(3,6),trapType:s.SpikesOne},{position:new l(2,9),trapType:s.SpikesTwo}],u=[{position:new l(3,1),trapType:s.Burst},{position:new l(3,4),trapType:s.Burst},{position:new l(3,5),trapType:s.Burst},{position:new l(2,10),trapType:s.Burst},{position:new l(3,10),trapType:s.Burst}],a={position:new l(0,1),direction:o.Left};e("default",{mapInfo:n,player:y,enemies:c,spikes:i,bursts:u,door:a});t._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index3.ts"],(function(r){var e,n,o,t,a,i,s,c,u,l,p;return{setters:[function(r){e=r.applyDecoratedDescriptor,n=r.inheritsLoose,o=r.initializerDefineProperty,t=r.assertThisInitialized},function(r){a=r.cclegacy,i=r._decorator,s=r.ProgressBar,c=r.resources,u=r.director,l=r.Component},function(r){p=r.EScene}],execute:function(){var g,d,f,y,h;a._RF.push({},"a0da81qS9dKt64YlARfpJKM","LoadingManager",void 0);var v=i.ccclass,L=i.property;r("LoadingManager",(g=v("LoadingManager"),d=L(s),g((h=e((y=function(r){function e(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=r.call.apply(r,[this].concat(a))||this,o(e,"progressBar",h,t(e)),e}return n(e,r),e.prototype.onLoad=function(){var r=this;c.preloadDir("texture",(function(e,n){r.progressBar&&(r.progressBar.progress=e/n)}),(function(r){r?console.error(r):u.loadScene(p.Start)}))},e}(l)).prototype,"progressBar",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./DirectionSubStateMachine.ts","./EntityFactory.ts","./EntityManager.ts","./Singleton.ts","./State.ts","./StateMachine.ts","./SubStateMachine.ts","./index3.ts","./Level1.ts","./Level10.ts","./Level11.ts","./Level12.ts","./Level13.ts","./Level14.ts","./Level15.ts","./Level16.ts","./Level17.ts","./Level18.ts","./Level19.ts","./Level2.ts","./Level20.ts","./Level3.ts","./Level4.ts","./Level5.ts","./Level6.ts","./Level7.ts","./Level8.ts","./Level9.ts","./index2.ts","./DataManager.ts","./EventManager.ts","./FaderManager.ts","./ResourceManager.ts","./DoorIdleSubStateMachine.ts","./DoorManager.ts","./DoorStateMachine.ts","./EnemyAttackSubStateMachine.ts","./EnemyDeadSubStateMachine.ts","./EnemyIdleSubStateMachine.ts","./EnemyManager.ts","./EnemyStateMachine.ts","./IronSkeletonDeadSubStateMachine.ts","./IronSkeletonIdleSubStateMachine.ts","./IronSkeletonManager.ts","./IronSkeletonStateMachine.ts","./WoodenSkeletonAttackSubStateMachine.ts","./WoodenSkeletonDeadSubStateMachine.ts","./WoodenSkeletonIdleSubStateMachine.ts","./WoodenSkeletonManager.ts","./WoodenSkeletonStateMachine.ts","./PlayerAttackSubStateMachine.ts","./PlayerBlockedBackSubStateMachine.ts","./PlayerBlockedFrontSubStateMachine.ts","./PlayerBlockedLeftSubStateMachine.ts","./PlayerBlockedRightSubStateMachine.ts","./PlayerBlockedTurnLeftSubStateMachine.ts","./PlayerBlockedTurnRightSubStateMachine.ts","./PlayerDeadSubStateMachine.ts","./PlayerFallingDeadSubStateMachine.ts","./PlayerIdleSubStateMachine.ts","./PlayerManager.ts","./PlayerStateMachine.ts","./PlayerTurnLeftSubStateMachine.ts","./PlayerTurnRightSubStateMachine.ts","./BattleManager.ts","./SmokeIdleSubStateMachine.ts","./SmokeManager.ts","./SmokeStateMachine.ts","./TileManager.ts","./TileMapManager.ts","./BurstManager.ts","./BurstStateMachine.ts","./SpikeManager.ts","./SpikeStateMachine.ts","./TrapManager.ts","./TrapStateMachine.ts","./ControllerManager.ts","./DrawManager.ts","./LoadingManager.ts","./MenuManager.ts","./ShakeManager.ts","./StartManager.ts","./index.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MenuManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index3.ts","./EventManager.ts"],(function(n){var t,e,r,a,i,o;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,r=n._decorator,a=n.Component},function(n){i=n.EEvent},function(n){o=n.default}],execute:function(){var u;e._RF.push({},"312584rTYRBtKTrK6nOwt2o","MenuManager",void 0);var c=r.ccclass;n("MenuManager",c("MenuManager")(u=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var r=e.prototype;return r.Undo=function(){o.instance.emit(i.RevokeStep)},r.Restart=function(){o.instance.emit(i.RestartLevel)},r.Out=function(){o.instance.emit(i.QuitBattle)},e}(a))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerAttackSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index3.ts"],(function(t){var e,a,s,i,n,r,o,c;return{setters:[function(t){e=t.inheritsLoose,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){i=t.cclegacy,n=t.AnimationClip},function(t){r=t.DirectionSubStateMachine},function(t){o=t.State},function(t){c=t.EDirection}],execute:function(){i._RF.push({},"91920cku0hCbJpOiZSsmE6w","PlayerAttackSubStateMachine",void 0);t("PlayerAttackSubStateMachine",function(t){function i(e){return t.call(this,e,"texture/player/attack",n.WrapMode.Normal)||this}return e(i,t),i.prototype.init=function(){var t=a(s().mark((function t(){var e,a,i,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 4,e=new o(this.baseUrl+"/top",this.fsm,this.wrapMode,this.sampleRate,[{frame:1/this.sampleRate*4,func:"onAttackShake",params:[c.Top]}]),a=new o(this.baseUrl+"/bottom",this.fsm,this.wrapMode,this.sampleRate,[{frame:1/this.sampleRate*4,func:"onAttackShake",params:[c.Bottom]}]),i=new o(this.baseUrl+"/left",this.fsm,this.wrapMode,this.sampleRate,[{frame:1/this.sampleRate*4,func:"onAttackShake",params:[c.Left]}]),n=new o(this.baseUrl+"/right",this.fsm,this.wrapMode,this.sampleRate,[{frame:1/this.sampleRate*4,func:"onAttackShake",params:[c.Right]}]),t.next=7,Promise.all([e.init(),a.init(),i.init(),n.init()]);case 7:this.states.set(c.Top,e),this.states.set(c.Bottom,a),this.states.set(c.Left,i),this.states.set(c.Right,n);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i}(r));i._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerBlockedBackSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts"],(function(e){var t,c,n;return{setters:[function(e){t=e.inheritsLoose},function(e){c=e.cclegacy},function(e){n=e.DirectionSubStateMachine}],execute:function(){c._RF.push({},"3eb018bKUZGYpIeXC6h5+Zz","PlayerBlockedBackSubStateMachine",void 0);e("PlayerBlockedBackSubStateMachine",function(e){function c(t){return e.call(this,t,"texture/player/blockback")||this}return t(c,e),c}(n));c._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerBlockedFrontSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts"],(function(e){var t,n,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){c=e.DirectionSubStateMachine}],execute:function(){n._RF.push({},"b4eaeYolDlGe52T5FUtPgQ7","PlayerBlockedFrontSubStateMachine",void 0);e("PlayerBlockedFrontSubStateMachine",function(e){function n(t){return e.call(this,t,"texture/player/blockfront")||this}return t(n,e),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerBlockedLeftSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts"],(function(e){var t,c,n;return{setters:[function(e){t=e.inheritsLoose},function(e){c=e.cclegacy},function(e){n=e.DirectionSubStateMachine}],execute:function(){c._RF.push({},"21c20vRpPtIapk/cXVu1JCd","PlayerBlockedLeftSubStateMachine",void 0);e("PlayerBlockedLeftSubStateMachine",function(e){function c(t){return e.call(this,t,"texture/player/blockleft")||this}return t(c,e),c}(n));c._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerBlockedRightSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts"],(function(t){var e,n,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.DirectionSubStateMachine}],execute:function(){n._RF.push({},"77fcfn4NndJa5rB45r8orrM","PlayerBlockedRightSubStateMachine",void 0);t("PlayerBlockedRightSubStateMachine",function(t){function n(e){return t.call(this,e,"texture/player/blockright")||this}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerBlockedTurnLeftSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts"],(function(e){var t,n,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){c=e.DirectionSubStateMachine}],execute:function(){n._RF.push({},"2fc7c2hdj5ET5Can7AIV0qY","PlayerBlockedTurnLeftSubStateMachine",void 0);e("PlayerBlockedTurnLeftSubStateMachine",function(e){function n(t){return e.call(this,t,"texture/player/blockturnleft")||this}return t(n,e),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerBlockedTurnRightSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts"],(function(t){var e,n,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.DirectionSubStateMachine}],execute:function(){n._RF.push({},"1ddf0Y+BDtIC5aeQe1MnmQw","PlayerBlockedTurnRightSubStateMachine",void 0);t("PlayerBlockedTurnRightSubStateMachine",function(t){function n(e){return t.call(this,e,"texture/player/blockturnright")||this}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerDeadSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts"],(function(e){var t,n,i,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e.AnimationClip},function(e){a=e.DirectionSubStateMachine}],execute:function(){n._RF.push({},"7f497rr/stBjpu+DfBzkD7U","PlayerDeadSubStateMachine",void 0);e("PlayerDeadSubStateMachine",function(e){function n(t){return e.call(this,t,"texture/player/death",i.WrapMode.Normal)||this}return t(n,e),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerFallingDeadSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts"],(function(e){var t,a,n,i;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,n=e.AnimationClip},function(e){i=e.DirectionSubStateMachine}],execute:function(){a._RF.push({},"ca2f9oZBalNSq/6MwYZRrNP","PlayerFallingDeadSubStateMachine",void 0);e("PlayerFallingDeadSubStateMachine",function(e){function a(t){return e.call(this,t,"texture/player/airdeath",n.WrapMode.Normal)||this}return t(a,e),a}(i));a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerIdleSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts"],(function(e){var t,n,i,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e.AnimationClip},function(e){c=e.DirectionSubStateMachine}],execute:function(){n._RF.push({},"5349913fJJGGpJndFsUNn14","PlayerIdleSubStateMachine",void 0);e("PlayerIdleSubStateMachine",function(e){function n(t){return e.call(this,t,"texture/player/idle",i.WrapMode.Loop)||this}return t(n,e),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityManager.ts","./index3.ts","./EventManager.ts","./PlayerStateMachine.ts","./DataManager.ts","./index.ts","./TileManager.ts"],(function(t){var i,e,n,o,s,r,a,c,l,u,h,p,f,g,d,y,k,v,x,P,m;return{setters:[function(t){i=t.inheritsLoose,e=t.asyncToGenerator,n=t.regeneratorRuntime,o=t.extends},function(t){s=t.cclegacy,r=t._decorator,a=t.Vec2},function(t){c=t.EntityManager},function(t){l=t.EEvent,u=t.EInput,h=t.EEntityState,p=t.EActionResult,f=t.EDirection,g=t.EEntityType},function(t){d=t.default},function(t){y=t.PlayerStateMachine},function(t){k=t.default},function(t){v=t.mapInputToDirection,x=t.getRelativeDirection,P=t.mapTurnDirectionToBlockedDirection},function(t){m=t.TILE_WIDTH}],execute:function(){var b;s._RF.push({},"c85ccfRZlBBZq47AQQzMIeH","PlayerManager",void 0);var T=r.ccclass;r.property,t("PlayerManager",T("PlayerManager")(b=function(t){function s(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).targetPosition=new a(0,0),i.isMoving=!1,i.velocity=.1,i.target=null,i.controlResolve=null,i}i(s,t);var r=s.prototype;return r.init=function(){var i=e(n().mark((function i(e){return n().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.prototype.init.call(this,o({},e,{type:g.Player,fsm:y}));case 2:this.targetPosition.set(this.position),d.instance.on(l.PlayerInput,this.handleInput,this),d.instance.on(l.FallingDeath,this.onFallingDeath,this);case 5:case"end":return i.stop()}}),i,this)})));return function(t){return i.apply(this,arguments)}}(),r.onDestroy=function(){d.instance.off(l.PlayerInput,this.handleInput,this),d.instance.off(l.FallingDeath,this.onFallingDeath,this),t.prototype.onDestroy.call(this)},r.update=function(i){this.updatePosition(),t.prototype.update.call(this,i)},r.updatePosition=function(){this.position.x<this.targetPosition.x?this.position.x+=this.velocity:this.position.x>this.targetPosition.x&&(this.position.x-=this.velocity),this.position.y<this.targetPosition.y?this.position.y+=this.velocity:this.position.y>this.targetPosition.y&&(this.position.y-=this.velocity),Math.abs(this.position.x-this.targetPosition.x)<.01&&Math.abs(this.position.y-this.targetPosition.y)<.01&&this.isMoving&&(this.isMoving=!1,this.position.x=this.targetPosition.x,this.position.y=this.targetPosition.y,d.instance.emit(l.PlayerMoveEnd),this.controlResolve&&(this.controlResolve(),this.controlResolve=null))},r.handleInput=function(){var t=e(n().mark((function t(i){var e,o,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null!=(e=k.instance.door)?e:{},(s=o.position)&&!a.strictEquals(s,this.position)){t.next=3;break}return t.abrupt("return");case 3:if(!this.isMoving&&this.state!==h.Death&&this.state!==h.FallingDeath&&this.state!==h.Attack&&this.state!==h.TurnLeft&&this.state!==h.TurnRight){t.next=5;break}return t.abrupt("return");case 5:t.t0=this.isActionValid(i),t.next=t.t0===p.Perform?8:t.t0===p.Blocked?13:t.t0===p.Attack?15:19;break;case 8:return d.instance.emit(l.RecordStep),t.next=11,this.control(i);case 11:return d.instance.emit(l.playerActionCompleted),t.abrupt("break",20);case 13:return this.handleBlocked(i),t.abrupt("break",20);case 15:return d.instance.emit(l.RecordStep),this.tryAttackTarget(this.target,2),d.instance.emit(l.playerActionCompleted),t.abrupt("break",20);case 19:return t.abrupt("break",20);case 20:case"end":return t.stop()}}),t,this)})));return function(i){return t.apply(this,arguments)}}(),r.isActionValid=function(t){var i=this.targetPosition,e=this.direction,n=k.instance,o=n.tileInfo,s=n.enemies,r=n.door;if(t===u.TurnLeft||t===u.TurnRight){var c,l,f,g,d=t===u.TurnLeft,y=this.calculatePositions(e,i,d),x=y.passTilePosition,P=y.stayTilePosition,m=s.filter((function(t){return t.state!==h.Death})).filter((function(t){return a.strictEquals(t.position,x)||a.strictEquals(t.position,P)})).length>0,b=r.state!==h.Death&&(a.strictEquals(r.position,x)||a.strictEquals(r.position,P)),T=(null!=(c=null==(l=o[x.x])?void 0:l[x.y])?c:{bWeaponBlocked:!1}).bWeaponBlocked,B=(null!=(f=null==(g=o[P.x])?void 0:g[P.y])?f:{bWeaponBlocked:!1}).bWeaponBlocked;if(m||b||T||B)return p.Blocked}else{var R,E,M,w,D=this.getNextPosition(t,i),L=this.getNextPositionAfterNext(e,D),S=D.x<0||D.y<0||D.x>=o.length||D.y>=o[i.x].length,q=L.x<0||L.y<0||L.x>=o.length||L.y>=o[i.x].length;if(S||q&&!a.strictEquals(D,r.position))return p.Blocked;var A=s.filter((function(t){return t.state!==h.Death})).filter((function(t){return a.strictEquals(t.position,L)}));if(v(t)===this.direction&&A.length>0)return this.target=A[0],p.Attack;var I=k.instance.bursts.filter((function(t){return t.state!==h.Death})).filter((function(t){return a.strictEquals(t.position,D)})),F=s.filter((function(t){return t.state!==h.Death})).filter((function(t){return a.strictEquals(t.position,D)||a.strictEquals(t.position,L)})).length>0,N=r.state!==h.Death&&(a.strictEquals(r.position,D)||a.strictEquals(r.position,L)),W=(null!=(R=null==(E=o[D.x])?void 0:E[D.y])?R:{}).bMovable,_=(null!=(M=null==(w=o[L.x])?void 0:w[L.y])?M:{}).bWeaponBlocked;if(F||N||!W&&I.length<=0||_)return p.Blocked}return p.Perform},r.calculatePositions=function(t,i,e){var n=i.x,o=i.y,s=new a,r=new a;switch(t){case f.Top:s.set(e?n-1:n+1,o-1),r.set(e?n-1:n+1,o);break;case f.Bottom:s.set(e?n+1:n-1,o+1),r.set(e?n+1:n-1,o);break;case f.Left:s.set(n-1,e?o+1:o-1),r.set(n,e?o+1:o-1);break;case f.Right:s.set(n+1,e?o-1:o+1),r.set(n,e?o-1:o+1)}return{passTilePosition:s,stayTilePosition:r}},r.getNextPosition=function(t,i){var e=new a(i);switch(t){case u.Top:e.y-=1;break;case u.Bottom:e.y+=1;break;case u.Left:e.x-=1;break;case u.Right:e.x+=1}return e},r.getNextPositionAfterNext=function(t,i){var e=new a(i);switch(t){case f.Top:e.x=i.x,e.y=i.y-1;break;case f.Bottom:e.x=i.x,e.y=i.y+1;break;case f.Left:e.x=i.x-1,e.y=i.y;break;case f.Right:e.x=i.x+1,e.y=i.y}return e},r.handleBlocked=function(t){var i=f.None,e=v(t);e===this.direction?(this.state=h.BlockedFront,i=e):x(this.direction,e)===f.Left?(this.state=h.BlockedLeft,i=e):x(this.direction,e)===f.Right?(this.state=h.BlockedRight,i=e):t===u.Top&&this.direction===f.Bottom||t===u.Bottom&&this.direction===f.Top||t===u.Left&&this.direction===f.Right||t===u.Right&&this.direction===f.Left?(this.state=h.BlockedBack,i=e):t!==u.TurnLeft&&t!==u.TurnRight||(this.state=t===u.TurnLeft?h.BlockedTurnLeft:h.BlockedTurnRight,i=P(this.direction,t));var n={duration:200,frequency:5,amplitude:.05*m,direction:i};d.instance.emit(l.ScreenShake,n)},r.control=function(t){var i=this;return new Promise((function(e,n){if(i.controlResolve=e,t===u.Left?(i.targetPosition.x-=1,i.isMoving=!0,d.instance.emit(l.SpawnSmoke,new a(i.position),t)):t===u.Right&&(i.targetPosition.x+=1,i.isMoving=!0,d.instance.emit(l.SpawnSmoke,new a(i.position),t)),t===u.Top?(i.targetPosition.y-=1,i.isMoving=!0,d.instance.emit(l.SpawnSmoke,new a(i.position),t)):t===u.Bottom&&(i.targetPosition.y+=1,i.isMoving=!0,d.instance.emit(l.SpawnSmoke,new a(i.position),t)),t===u.TurnLeft){switch(i.direction){case f.Top:i.direction=f.Left;break;case f.Bottom:i.direction=f.Right;break;case f.Left:i.direction=f.Bottom;break;case f.Right:i.direction=f.Top}i.state=h.TurnLeft,e()}if(t===u.TurnRight){switch(i.direction){case f.Top:i.direction=f.Right;break;case f.Bottom:i.direction=f.Left;break;case f.Left:i.direction=f.Top;break;case f.Right:i.direction=f.Bottom}i.state=h.TurnRight,e()}}))},r.onFallingDeath=function(t,i){t===this&&(this.state=h.FallingDeath)},r.onAttackShake=function(t){var i={duration:200,frequency:5,amplitude:.25*m,direction:t};d.instance.emit(l.ScreenShake,i)},s}(c))||b);s._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index3.ts","./StateMachine.ts","./EntityManager.ts","./PlayerIdleSubStateMachine.ts","./PlayerTurnLeftSubStateMachine.ts","./PlayerTurnRightSubStateMachine.ts","./PlayerBlockedFrontSubStateMachine.ts","./PlayerBlockedBackSubStateMachine.ts","./PlayerBlockedLeftSubStateMachine.ts","./PlayerBlockedRightSubStateMachine.ts","./PlayerBlockedTurnLeftSubStateMachine.ts","./PlayerBlockedTurnRightSubStateMachine.ts","./PlayerAttackSubStateMachine.ts","./PlayerDeadSubStateMachine.ts","./PlayerFallingDeadSubStateMachine.ts"],(function(t){var e,a,s,i,n,r,h,c,u,l,o,S,g,d,k,f,y,p,B,R,m,P,T;return{setters:[function(t){e=t.inheritsLoose,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){i=t.cclegacy,n=t._decorator,r=t.Animation},function(t){h=t.EEntityStateMachineParams,c=t.EStateMachineParamType,u=t.EEntityState},function(t){l=t.StateMachine},function(t){o=t.EntityManager},function(t){S=t.PlayerIdleSubStateMachine},function(t){g=t.PlayerTurnLeftSubStateMachine},function(t){d=t.PlayerTurnRightSubStateMachine},function(t){k=t.PlayerBlockedFrontSubStateMachine},function(t){f=t.PlayerBlockedBackSubStateMachine},function(t){y=t.PlayerBlockedLeftSubStateMachine},function(t){p=t.PlayerBlockedRightSubStateMachine},function(t){B=t.PlayerBlockedTurnLeftSubStateMachine},function(t){R=t.PlayerBlockedTurnRightSubStateMachine},function(t){m=t.PlayerAttackSubStateMachine},function(t){P=t.PlayerDeadSubStateMachine},function(t){T=t.PlayerFallingDeadSubStateMachine}],execute:function(){var M;i._RF.push({},"2c80dOUls9BUrvqZ4b0tamY","PlayerStateMachine",void 0);var b=n.ccclass;t("PlayerStateMachine",b("PlayerStateMachine")(M=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.init=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.animationComponent=this.addComponent(r),this.initAnimationEvent(),this.initParams(),t.next=5,this.initStates();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.initParams=function(){this.params.set(h.Idle,{type:c.TRIGGER,value:!1}),this.params.set(h.TurnLeft,{type:c.TRIGGER,value:!1}),this.params.set(h.TurnRight,{type:c.TRIGGER,value:!1}),this.params.set(h.BlockedFront,{type:c.TRIGGER,value:!1}),this.params.set(h.BlockedBack,{type:c.TRIGGER,value:!1}),this.params.set(h.BlockedLeft,{type:c.TRIGGER,value:!1}),this.params.set(h.BlockedRight,{type:c.TRIGGER,value:!1}),this.params.set(h.BlockedTurnLeft,{type:c.TRIGGER,value:!1}),this.params.set(h.BlockedTurnRight,{type:c.TRIGGER,value:!1}),this.params.set(h.Attack,{type:c.TRIGGER,value:!1}),this.params.set(h.Death,{type:c.TRIGGER,value:!1}),this.params.set(h.FallingDeath,{type:c.TRIGGER,value:!1}),this.params.set(h.Direction,{type:c.INTEGER,value:0})},n.initStates=function(){var t=a(s().mark((function t(){var e,a,i,n,r,h,c,l,o,M,b,v;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new S(this),a=new g(this),i=new d(this),n=new k(this),r=new f(this),h=new y(this),c=new p(this),l=new B(this),o=new R(this),M=new m(this),b=new P(this),v=new T(this),t.next=14,Promise.all([e.init(),a.init(),i.init(),n.init(),r.init(),h.init(),c.init(),l.init(),o.init(),M.init(),b.init(),v.init()]);case 14:this.states.set(u.Idle,e),this.states.set(u.TurnLeft,a),this.states.set(u.TurnRight,i),this.states.set(u.BlockedFront,n),this.states.set(u.BlockedBack,r),this.states.set(u.BlockedLeft,h),this.states.set(u.BlockedRight,c),this.states.set(u.BlockedTurnLeft,l),this.states.set(u.BlockedTurnRight,o),this.states.set(u.Attack,M),this.states.set(u.Death,b),this.states.set(u.FallingDeath,v);case 26:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.initAnimationEvent=function(){var t=this;this.animationComponent.on(r.EventType.FINISHED,(function(e,a){["turn","block","attack"].some((function(t){return a.name.includes(t)}))&&(t.node.getComponent(o).state=u.Idle)}),this)},n.run=function(){switch(this.currentState){case this.states.get(u.Idle):this.getParamValue(h.TurnLeft)?this.currentState=this.states.get(u.TurnLeft):this.getParamValue(h.TurnRight)?this.currentState=this.states.get(u.TurnRight):this.getParamValue(h.BlockedFront)?this.currentState=this.states.get(u.BlockedFront):this.getParamValue(h.BlockedBack)?this.currentState=this.states.get(u.BlockedBack):this.getParamValue(h.BlockedLeft)?this.currentState=this.states.get(u.BlockedLeft):this.getParamValue(h.BlockedRight)?this.currentState=this.states.get(u.BlockedRight):this.getParamValue(h.BlockedTurnLeft)?this.currentState=this.states.get(u.BlockedTurnLeft):this.getParamValue(h.BlockedTurnRight)?this.currentState=this.states.get(u.BlockedTurnRight):this.getParamValue(h.Attack)?this.currentState=this.states.get(u.Attack):this.getParamValue(h.Death)?this.currentState=this.states.get(u.Death):this.getParamValue(h.FallingDeath)?this.currentState=this.states.get(u.FallingDeath):this.currentState=this.currentState;break;case this.states.get(u.TurnLeft):case this.states.get(u.TurnRight):case this.states.get(u.BlockedFront):case this.states.get(u.BlockedBack):case this.states.get(u.BlockedLeft):case this.states.get(u.BlockedRight):case this.states.get(u.BlockedTurnLeft):case this.states.get(u.BlockedTurnRight):case this.states.get(u.Attack):this.getParamValue(h.Idle)?this.currentState=this.states.get(u.Idle):this.getParamValue(h.Death)?this.currentState=this.states.get(u.Death):this.getParamValue(h.FallingDeath)&&(this.currentState=this.states.get(u.FallingDeath));break;default:this.currentState=this.states.get(u.Idle)}},i}(l))||M);i._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerTurnLeftSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts"],(function(t){var e,n,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){u=t.DirectionSubStateMachine}],execute:function(){n._RF.push({},"03131DG1bJOW6LtBhIHdBDM","PlayerTurnLeftSubStateMachine",void 0);t("PlayerTurnLeftSubStateMachine",function(t){function n(e){return t.call(this,e,"texture/player/turnleft")||this}return e(n,t),n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerTurnRightSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts"],(function(t){var e,n,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.DirectionSubStateMachine}],execute:function(){n._RF.push({},"b8cd4qUhSFMJ5AmjSEHgflV","PlayerTurnRightSubStateMachine",void 0);t("PlayerTurnRightSubStateMachine",function(t){function n(e){return t.call(this,e,"texture/player/turnright")||this}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(n){var e,t,r,u,c;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass},function(n){r=n.cclegacy,u=n.resources},function(n){c=n.default}],execute:function(){r._RF.push({},"15c62dL7+1GVpUG38lDRhAo","ResourceManager",void 0);n("default",function(n){function r(){return n.apply(this,arguments)||this}return e(r,n),r.loadDir=function(n,e){return new Promise((function(t,r){u.loadDir(n,e,(function(n,e){n&&r(n),t(e)}))}))},t(r,null,[{key:"instance",get:function(){return n.getInstance.call(this)}}]),r}(c));r._RF.pop()}}}));

System.register("chunks:///_virtual/ShakeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./index3.ts"],(function(t){var i,n,o,s,e,a,h,l,r;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,s=t.game,e=t.Vec2,a=t.Component},function(t){h=t.default},function(t){l=t.EEvent,r=t.EDirection}],execute:function(){var c;n._RF.push({},"5468fdMccVE45gOPeT/i568","ShakeManager",void 0);var u=o.ccclass,d=1e3;t("ShakeManager",u("ShakeManager")(c=function(t){function n(){for(var i,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this).bIsShaking=!1,i.lastTime=0,i.lastPosition=new e(0,0),i.amplitude=100,i.frequency=1,i.initialPhase=0,i.duration=d,i.direction=r.None,i}i(n,t);var o=n.prototype;return o.onLoad=function(){h.instance.on(l.ScreenShake,this.play,this)},o.onDestroy=function(){h.instance.off(l.ScreenShake,this.play,this),t.prototype.destroy.call(this)},o.play=function(t){var i,n,o,a,h;this.bIsShaking||(this.bIsShaking=!0,this.lastTime=s.totalTime,this.lastPosition=new e(this.node.position.x,this.node.position.y),this.amplitude=null!=(i=t.amplitude)?i:100,this.frequency=null!=(n=t.frequency)?n:1,this.initialPhase=null!=(o=t.initialPhase)?o:0,this.duration=null!=(a=t.duration)?a:d,this.direction=null!=(h=t.direction)?h:r.None)},o.stop=function(){this.bIsShaking=!1,this.node.setPosition(this.lastPosition.x,this.lastPosition.y)},o.update=function(){var t=this;if(this.bIsShaking){var i,n=s.totalTime-this.lastTime,o=this.amplitude*Math.sin(Math.PI*this.frequency*(n/1e3)+this.initialPhase),e=Math.abs(o);((i={})[r.Top]=function(){t.node.setPosition(t.lastPosition.x,t.lastPosition.y+e)},i[r.Bottom]=function(){t.node.setPosition(t.lastPosition.x,t.lastPosition.y-e)},i[r.Left]=function(){t.node.setPosition(t.lastPosition.x-e,t.lastPosition.y)},i[r.Right]=function(){t.node.setPosition(t.lastPosition.x+e,t.lastPosition.y)},i)[this.direction](),n>this.duration&&this.stop()}},n}(a))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"d8a9avGF45IC4uOjhQso2Xj","Singleton",void 0),n("default",function(){function n(){}return n.getInstance=function(){return this._instance||(this._instance=new this),this._instance},n}())._instance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/SmokeIdleSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts"],(function(e){var t,n,i,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e.AnimationClip},function(e){o=e.DirectionSubStateMachine}],execute:function(){n._RF.push({},"9bc8frKop9Im5RBB6WtoQoQ","SmokeIdleSubStateMachine",void 0);e("SmokeIdleSubStateMachine",function(e){function n(t,n){return e.call(this,t,"texture/smoke/idle",i.WrapMode.Normal,n)||this}return t(n,e),n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/SmokeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityManager.ts","./index3.ts","./SmokeStateMachine.ts"],(function(t){var e,n,r,o,a,i,c,s,u;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime,o=t.extends},function(t){a=t.cclegacy,i=t._decorator},function(t){c=t.EntityManager},function(t){s=t.EEntityType},function(t){u=t.SmokeStateMachine}],execute:function(){var p;a._RF.push({},"9c6d6ax4F1HT4MPLbNNerlu","SmokeManager",void 0);var f=i.ccclass;i.property,t("SmokeManager",f("SmokeManager")(p=function(t){function a(){return t.apply(this,arguments)||this}return e(a,t),a.prototype.init=function(){var e=n(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.prototype.init.call(this,o({},n,{type:s.Smoke,fsm:u}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a}(c))||p);a._RF.pop()}}}));

System.register("chunks:///_virtual/SmokeStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index3.ts","./StateMachine.ts","./EntityManager.ts","./SmokeIdleSubStateMachine.ts","./State.ts"],(function(t){var e,n,i,a,s,r,o,u,c,h,p,m;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t.Animation},function(t){r=t.EEntityStateMachineParams,o=t.EStateMachineParamType,u=t.EEntityState},function(t){c=t.StateMachine},function(t){h=t.EntityManager},function(t){p=t.SmokeIdleSubStateMachine},function(t){m=t.State}],execute:function(){a._RF.push({},"308e9beb2BA+Kz/IuZ5522i","SmokeStateMachine",void 0);t("SmokeStateMachine",function(t){function a(){return t.apply(this,arguments)||this}e(a,t);var c=a.prototype;return c.init=function(){var t=n(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.animationComponent=this.addComponent(s),this.initAnimationEvent(),this.initParams(),t.next=5,this.initStates();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.initParams=function(){this.params.set(r.Idle,{type:o.TRIGGER,value:!1}),this.params.set(r.Death,{type:o.TRIGGER,value:!1}),this.params.set(r.Direction,{type:o.INTEGER,value:0})},c.initStates=function(){var t=n(i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new p(this,16),n=new m("texture/smoke/death",this),t.next=4,Promise.all([e.init(),n.init()]);case 4:this.states.set(u.Idle,e),this.states.set(u.Death,n);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.initAnimationEvent=function(){var t=this;this.animationComponent.on(s.EventType.FINISHED,(function(e,n){["idle"].some((function(t){return n.name.includes(t)}))&&(t.node.getComponent(h).state=u.Death)}),this)},c.run=function(){switch(this.currentState){case this.states.get(u.Idle):this.getParamValue(r.Death)?this.currentState=this.states.get(u.Death):this.currentState=this.currentState;break;default:this.currentState=this.states.get(u.Idle)}},a}(c));a._RF.pop()}}}));

System.register("chunks:///_virtual/SpikeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TrapManager.ts","./index3.ts","./DataManager.ts","./EventManager.ts"],(function(t){var n,e,i,r,s,o,a,c,u,p;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,i=t.regeneratorRuntime,r=t.extends},function(t){s=t.cclegacy,o=t.Vec2},function(t){a=t.TrapManager},function(t){c=t.EEvent},function(t){u=t.default},function(t){p=t.default}],execute:function(){s._RF.push({},"0e6738ws/JG7rVFUTObUcOI","SpikeManager",void 0);t("SpikeManager",function(t){function s(){return t.apply(this,arguments)||this}n(s,t);var a=s.prototype;return a.init=function(){var n=e(i().mark((function n(e){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.init.call(this,r({},e));case 2:p.instance.on(c.ResetTrapPoint,this.resetPoint,this);case 3:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),a.onDestroy=function(){p.instance.off(c.ResetTrapPoint,this.resetPoint,this),t.prototype.onDestroy.call(this)},a.trigger=function(){var t=u.instance.player;t&&(this.currentPoint===this.totalPoint?this.currentPoint=1:this.currentPoint++,this.currentPoint===this.totalPoint&&o.distance(this.position,t.targetPosition)<=this.triggerDistance&&p.instance.emit(c.Death,t,this))},a.resetPoint=function(t){this===t&&(this.currentPoint=0)},s}(a));s._RF.pop()}}}));

System.register("chunks:///_virtual/SpikeStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TrapStateMachine.ts","./index3.ts","./EventManager.ts","./index.ts"],(function(t){var n,e,i,r,a,o,u,c,s,p;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){r=t.cclegacy,a=t.Animation},function(t){o=t.TrapStateMachine},function(t){u=t.EEntityStateMachineParams,c=t.EEvent},function(t){s=t.default},function(t){p=t.numberToWord}],execute:function(){r._RF.push({},"5c122RLxu1Lq5hWBvVsm90S","SpikeStateMachine",void 0);var f=function(t){return"texture/spikes/spikes"+p[t-1]};t("SpikeStateMachine",function(t){function r(){return t.apply(this,arguments)||this}n(r,t);var o=r.prototype;return o.init=function(){var n=e(i().mark((function n(){var e,r,a,o,u,c,s=arguments;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(e=s.length,r=new Array(e),a=0;a<e;a++)r[a]=s[a];return o=r[0],u=r[1],c=f(u),n.next=5,t.prototype.init.call(this,{trapManager:o,baseUrl:c,totalPoint:u});case 5:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),o.initAnimationEvent=function(){var t=this;this.animationComponent.on(a.EventType.FINISHED,(function(n,e){t.getParamValue(u.CurrentPoint)===t.totalPoint&&s.instance.emit(c.ResetTrapPoint,t.trapManager)}),this)},r}(o));r._RF.pop()}}}));

System.register("chunks:///_virtual/StartManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index3.ts","./FaderManager.ts"],(function(e){var t,n,r,a,o,c,i,s,u,d;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e._decorator,c=e.director,i=e.Node,s=e.Component},function(e){u=e.EScene},function(e){d=e.default}],execute:function(){var p;a._RF.push({},"48edaSg9A9Ccb6TdnImApiY","StartManager",void 0);var f=o.ccclass;e("StartManager",f("StartManager")(p=function(e){function a(){return e.apply(this,arguments)||this}t(a,e);var o=a.prototype;return o.onLoad=function(){d.instance.fadeOut(1e3),c.preloadScene(u.Battle),this.node.once(i.EventType.TOUCH_START,this.handleStart,this)},o.handleStart=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.instance.fadeIn(300);case 2:c.loadScene(u.Battle);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a}(s))||p);a._RF.pop()}}}));

System.register("chunks:///_virtual/State.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceManager.ts"],(function(t){var n,i,a,e,o,r,s,p;return{setters:[function(t){n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){a=t.cclegacy,e=t.AnimationClip,o=t.animation,r=t.Sprite,s=t.SpriteFrame},function(t){p=t.default}],execute:function(){a._RF.push({},"7497ck8OWBAkp3NG69dzaeV","State",void 0);t("State",function(){function t(t,n,i,a,o){void 0===i&&(i=e.WrapMode.Normal),void 0===a&&(a=8),void 0===o&&(o=[]),this.animationClip=void 0,this.path=t,this.fsm=n,this.wrapMode=i,this.sampleRate=a,this.events=o}var a=t.prototype;return a.init=function(){var t=n(i().mark((function t(){var n,a,m,u=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.loadDir(this.path,s);case 2:(n=t.sent).sort((function(t,n){return parseInt(t.name.match(/\d+/)[0])-parseInt(n.name.match(/\d+/)[0])})),a=n.map((function(t,n){return[1/u.sampleRate*n,t]})),this.animationClip=new e(this.path),this.animationClip.duration=1/this.sampleRate*n.length,this.animationClip.wrapMode=this.wrapMode,this.animationClip.events=this.events,(m=new o.ObjectTrack).path=(new o.TrackPath).toComponent(r).toProperty("spriteFrame"),m.channel.curve.assignSorted(a),this.animationClip.addTrack(m);case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.run=function(){var t;this.animationClip&&(null==(t=this.fsm.animationComponent.defaultClip)?void 0:t.name)!==this.animationClip.name&&(this.fsm.animationComponent.defaultClip=this.animationClip,this.fsm.animationComponent.play())},t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/StateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index3.ts"],(function(t){var e,r,a,n,i,u;return{setters:[function(t){e=t.inheritsLoose,r=t.createForOfIteratorHelperLoose,a=t.createClass},function(t){n=t.cclegacy,i=t.Component},function(t){u=t.EStateMachineParamType}],execute:function(){n._RF.push({},"2de35/07lxCQYiX4tGtDJZB","StateMachine",void 0);t("StateMachine",function(t){function n(){for(var e,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this)._currentState=null,e.params=new Map,e.states=new Map,e.animationComponent=void 0,e}e(n,t);var i=n.prototype;return i.getParamValue=function(t){var e;return null==(e=this.params.get(t))?void 0:e.value},i.setParamValue=function(t,e){this.params.has(t)&&(this.params.get(t).value=e,this.run(),this.resetTrigger())},i.resetTrigger=function(){for(var t,e=r(this.params);!(t=e()).done;){var a=t.value,n=(a[0],a[1]);n.type===u.TRIGGER&&(n.value=!1)}},a(n,[{key:"currentState",get:function(){return this._currentState},set:function(t){var e;this._currentState=t,null==(e=this._currentState)||e.run()}}]),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/SubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,i=t.AnimationClip}],execute:function(){n._RF.push({},"0d084LXmwNL04AnsUVleHb7","SubStateMachine",void 0);t("SubStateMachine",function(){function t(t,e,n,r){void 0===n&&(n=i.WrapMode.Normal),void 0===r&&(r=8),this._currentState=null,this.states=new Map,this.fsm=t,this.baseUrl=e,this.wrapMode=n,this.sampleRate=r}return e(t,[{key:"currentState",get:function(){return this._currentState},set:function(t){this._currentState=t,this._currentState.run()}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/TileManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,n,i,r,a;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,i=e.Sprite,r=e.UITransform,a=e.Component}],execute:function(){var s;t._RF.push({},"a62d21bLr1MsZwjBtkhXHDD","TileManager",void 0);var l=n.ccclass,c=(n.property,e("TILE_WIDTH",55)),p=e("TILE_HEIGHT",55);e("TileManager",l("TileManager")(s=function(e){function t(){for(var o,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(o=e.call.apply(e,[this].concat(n))||this).type=void 0,o.bMovable=void 0,o.bWeaponBlocked=void 0,o}return o(t,e),t.prototype.init=function(e,o,t,n){e.includes("Wall")?(this.bMovable=!1,this.bWeaponBlocked=!0):e.includes("Cliff")?(this.bMovable=!1,this.bWeaponBlocked=!1):e.includes("Floor")&&(this.bMovable=!0,this.bWeaponBlocked=!1),this.addComponent(i).spriteFrame=o,this.getComponent(r).setContentSize(c,p),this.node.setPosition(t*c,-n*p)},t}(a))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/TileMapManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./TileManager.ts","./DataManager.ts","./ResourceManager.ts"],(function(e){var n,t,r,a,i,c,o,u,s,p,l,f;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,i=e._decorator,c=e.Component,o=e.randomRangeInt,u=e.SpriteFrame},function(e){s=e.CreateUINode},function(e){p=e.TileManager},function(e){l=e.default},function(e){f=e.default}],execute:function(){var d;a._RF.push({},"6fd05GGC59NOq46RGjjqIpE","TileMapManager",void 0);var g=i.ccclass;i.property,e("TileMapManager",g("TileMapManager")(d=function(e){function a(){return e.apply(this,arguments)||this}return n(a,e),a.prototype.init=function(){var e=t(r().mark((function e(){var n,t,a,i,c,d,g,M,x=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.loadDir("texture/tile",u);case 2:n=e.sent,t=l.instance,a=t.mapInfo,i=t.tileInfo,c=0;case 5:if(!(c<a.length)){e.next=20;break}d=a[c],i[c]=[],g=r().mark((function e(){var t,a,u,l,f,g;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=d[M]).src&&null!==t.type){e.next=3;break}return e.abrupt("return",1);case 3:1!==(a=t.src)&&5!==a&&9!==a||c%2!=0||M%2!=0||(a+=o(0,4)),l=s(u="tile ("+a+")"),f=n.find((function(e){return e.name===u}))||n[0],(g=l.addComponent(p)).init(t.type,f,c,M),i[c][M]=g,l.setParent(x.node);case 12:case"end":return e.stop()}}),e)})),M=0;case 10:if(!(M<d.length)){e.next=17;break}return e.delegateYield(g(),"t0",12);case 12:if(!e.t0){e.next=14;break}return e.abrupt("continue",14);case 14:M++,e.next=10;break;case 17:c++,e.next=5;break;case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a}(c))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/TrapManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityManager.ts","./index3.ts","./EventManager.ts"],(function(t){var n,e,r,i,a,o,s,c,u,p,l;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass,r=t.asyncToGenerator,i=t.regeneratorRuntime,a=t.extends},function(t){o=t.cclegacy},function(t){s=t.EntityManager},function(t){c=t.EEvent,u=t.EEntityStateMachineParams,p=t.EEntityType},function(t){l=t.default}],execute:function(){o._RF.push({},"a9e3aRmy5xCxYKIcnv766Y6","TrapManager",void 0);t("TrapManager",function(t){function o(){for(var n,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(n=t.call.apply(t,[this].concat(r))||this).trapType=null,n.triggerDistance=0,n._totalPoint=0,n._currentPoint=0,n}n(o,t);var s=o.prototype;return s.init=function(){var n=r(i().mark((function n(e){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.trapType=e.trapType,this._totalPoint=e.totalPoint,this.triggerDistance=null!=(r=e.triggerDistance)?r:0,n.next=5,t.prototype.init.call(this,a({},e,{type:p.Trap}));case 5:this.currentPoint=0,l.instance.on(c.playerActionCompleted,this.trigger,this);case 7:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),s.initStateMachine=function(){var t=r(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.fsm=this.addComponent(n),t.next=3,this.fsm.init(this,this._totalPoint);case 3:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),s.onDestroy=function(){l.instance.off(c.playerActionCompleted,this.trigger,this),t.prototype.onDestroy.call(this)},e(o,[{key:"currentPoint",get:function(){return this._currentPoint},set:function(t){this._currentPoint=t,this.fsm.setParamValue(u.CurrentPoint,t)}},{key:"totalPoint",get:function(){return this._totalPoint}}]),o}(s));o._RF.pop()}}}));

System.register("chunks:///_virtual/TrapStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index3.ts","./StateMachine.ts","./State.ts","./index.ts"],(function(t){var n,e,r,a,i,o,s,u,c,h;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,i=t.Animation},function(t){o=t.EEntityStateMachineParams,s=t.EStateMachineParamType},function(t){u=t.StateMachine},function(t){c=t.State},function(t){h=t.numberToWord}],execute:function(){a._RF.push({},"67073Y9Rp9NpqmlXCB1Agbk","TrapStateMachine",void 0);t("TrapStateMachine",function(t){function a(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(n=t.call.apply(t,[this].concat(r))||this).trapManager=null,n.totalPoint=0,n.baseUrl="",n}n(a,t);var u=a.prototype;return u.init=function(){var t=e(r().mark((function t(n){var e,a,o,s,u,c;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n={}),a=(e=n).trapManager,o=e.totalPoint,s=void 0===o?0:o,u=e.baseUrl,c=void 0===u?"":u,this.trapManager=a,this.totalPoint=s,this.baseUrl=c,this.animationComponent=this.addComponent(i),this.initAnimationEvent(),this.initParams(),t.next=10,this.initStates();case 10:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),u.initParams=function(){this.params.set(o.CurrentPoint,{type:s.INTEGER,value:0})},u.initStates=function(){var t=e(r().mark((function t(){var n,e=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Array.from({length:this.totalPoint+1},(function(t,n){return new c(e.baseUrl+"/"+h[n],e)})),t.next=3,Promise.all(n.map((function(t){return t.init()})));case 3:n.forEach((function(t,n){return e.states.set(n,t)}));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.run=function(){var t=this.getParamValue(o.CurrentPoint);this.currentState=this.states.get(t)},a}(u));a._RF.pop()}}}));

System.register("chunks:///_virtual/WoodenSkeletonAttackSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyAttackSubStateMachine.ts"],(function(t){var e,n,o,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.AnimationClip},function(t){c=t.EnemyAttackSubStateMachine}],execute:function(){n._RF.push({},"d928ePO70VGWKCyDF0xdkYt","WoodenSkeletonAttackSubStateMachine",void 0);t("WoodenSkeletonAttackSubStateMachine",function(t){function n(e){return t.call(this,e,"texture/woodenskeleton/attack",o.WrapMode.Normal)||this}return e(n,t),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/WoodenSkeletonDeadSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyDeadSubStateMachine.ts"],(function(e){var t,n,o,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e.AnimationClip},function(e){a=e.EnemyDeadSubStateMachine}],execute:function(){n._RF.push({},"1cc010isvRGxoLFfb4uak8P","WoodenSkeletonDeadSubStateMachine",void 0);e("WoodenSkeletonDeadSubStateMachine",function(e){function n(t){return e.call(this,t,"texture/woodenskeleton/death",o.WrapMode.Normal)||this}return t(n,e),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/WoodenSkeletonIdleSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyIdleSubStateMachine.ts"],(function(e){var t,n,o,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e.AnimationClip},function(e){i=e.EnemyIdleSubStateMachine}],execute:function(){n._RF.push({},"4f8e9064qBBeaypm6tJ3J3k","WoodenSkeletonIdleSubStateMachine",void 0);e("WoodenSkeletonIdleSubStateMachine",function(e){function n(t){return e.call(this,t,"texture/woodenskeleton/idle",o.WrapMode.Loop)||this}return t(n,e),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/WoodenSkeletonManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyManager.ts"],(function(e){var n,t,r,o,a,i;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,a=e._decorator},function(e){i=e.EnemyManager}],execute:function(){var c;o._RF.push({},"10797iGDhJOLY1QRuFvjQGo","WoodenSkeletonManager",void 0);var u=a.ccclass;a.property,e("WoodenSkeletonManager",u("WoodenSkeletonManager")(c=function(e){function o(){return e.apply(this,arguments)||this}return n(o,e),o.prototype.init=function(){var n=t(r().mark((function n(t){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.prototype.init.call(this,t);case 2:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),o}(i))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/WoodenSkeletonStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyStateMachine.ts","./index3.ts","./WoodenSkeletonIdleSubStateMachine.ts","./WoodenSkeletonAttackSubStateMachine.ts","./WoodenSkeletonDeadSubStateMachine.ts"],(function(t){var e,n,o,i,a,r,c,s,u,h;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){i=t.cclegacy,a=t._decorator},function(t){r=t.EnemyStateMachine},function(t){c=t.EEntityState},function(t){s=t.WoodenSkeletonIdleSubStateMachine},function(t){u=t.WoodenSkeletonAttackSubStateMachine},function(t){h=t.WoodenSkeletonDeadSubStateMachine}],execute:function(){var S;i._RF.push({},"9e45bv/OdlC3ZEhDrfYgazh","WoodenSkeletonStateMachine",void 0);var l=a.ccclass;t("WoodenSkeletonStateMachine",l("WoodenSkeletonStateMachine")(S=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var a=i.prototype;return a.init=function(){var e=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.prototype.init.call(this);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.initStates=function(){var t=n(o().mark((function t(){var e,n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new s(this),n=new u(this),i=new h(this),t.next=5,Promise.all([e.init(),n.init(),i.init()]);case 5:this.states.set(c.Idle,e),this.states.set(c.Attack,n),this.states.set(c.Death,i);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i}(r))||S);i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});