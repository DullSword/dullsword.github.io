require=function s(a,n,r){function p(t,e){if(!n[t]){if(!a[t]){var c="function"==typeof require&&require;if(!e&&c)return c(t,!0);if(h)return h(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var o=n[t]={exports:{}};a[t][0].call(o.exports,function(e){return p(a[t][1][e]||e)},o,o.exports,s,a,n,r)}return n[t].exports}for(var h="function"==typeof require&&require,e=0;e<r.length;e++)p(r[e]);return p}({Game2:[function(e,t,c){"use strict";cc._RF.push(t,"413fag6+QBJNKKhCidfSIBY","Game2"),window.ACCFactor=0,window.ACCPC=0,window.VOLUME=1;var i=e("Player2");cc.Class({extends:cc.Component,properties:{endMenu:cc.Node,setLayer:cc.Node,scoreLabel:cc.Label,endMenuScoreLabel:cc.Label,player2:i,energyMAXSlot:0,energybar:{default:null,type:cc.ProgressBar},accSlider:{default:null,type:cc.Slider},accPCSlider:{default:null,type:cc.Slider},volumeSlider:{default:null,type:cc.Slider},gainEnergyAudio:{default:null,url:cc.AudioClip},minACCFactor:0,maxACCFactor:0,minACCPC:0,maxACCPC:0},onLoad:function(){cc.sys.localStorage.getItem("ACCFactor")?ACCFactor=cc.sys.localStorage.getItem("ACCFactor"):ACCFactor=this.minACCFactor+(this.maxACCFactor-this.minACCFactor)/2,cc.sys.localStorage.getItem("ACCPC")?ACCPC=cc.sys.localStorage.getItem("ACCPC"):ACCPC=this.minACCPC+(this.maxACCPC-this.minACCPC)/2,cc.sys.localStorage.getItem("VOLUME")?VOLUME=cc.sys.localStorage.getItem("VOLUME"):VOLUME=1;var t=this;cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e){e.keyCode!=cc.KEY.back&&e.keyCode!=cc.KEY.backspace||(t.setLayerFlag?t.closeSetLayer():t.loadMenu())},t),cc.director.getCollisionManager().enabled=!0,this.player2.init(this),this.accSlider.progress=(ACCFactor-this.minACCFactor)/(this.maxACCFactor-this.minACCFactor),this.accPCSlider.progress=(ACCPC-this.minACCPC)/(this.maxACCPC-this.minACCPC),this.volumeSlider.progress=VOLUME,this.score=0,this.energySlot=0,this.setLayerFlag=!1},replay:function(){cc.director.loadScene("JumpGame2")},loadMenu:function(e){cc.director.loadScene("Menu"),PageViewIndex=1},openSetLayer:function(){this.setLayer.active=!0,this.setLayerFlag=!0,cc.systemEvent.setAccelerometerEnabled(!1),cc.director.pause()},closeSetLayer:function(){cc.sys.localStorage.setItem("ACCFactor",ACCFactor),cc.sys.localStorage.setItem("ACCPC",ACCPC),cc.sys.localStorage.setItem("VOLUME",VOLUME),this.setLayer.active=!1,this.setLayerFlag=!1,cc.systemEvent.setAccelerometerEnabled(!0),cc.director.resume()},setACC:function(){ACCFactor=this.minACCFactor+(this.maxACCFactor-this.minACCFactor)*this.accSlider.progress},setACCPC:function(){ACCPC=this.minACCPC+(this.maxACCPC-this.minACCPC)*this.accPCSlider.progress},setVOLUME:function(){VOLUME=this.volumeSlider.progress},gainEnergy:function(){this.energySlot++,this.energybar.progress=this.energySlot/this.energyMAXSlot,this.energySlot>=this.energyMAXSlot&&(this.energySlot=0,this.player2.onSuper());var e=cc.audioEngine.play(this.gainEnergyAudio,!1,VOLUME);cc.audioEngine.setVolume(e,VOLUME)},gainScore:function(e){this.score+=Math.floor(e),this.scoreLabel.string=this.score+"m"},stopGame:function(){this.endMenuScoreLabel.string=this.score+"m",GameScore2.Score<=this.score&&(GameScore2.Score=this.score,cc.sys.localStorage.setItem("GameScore2",JSON.stringify(GameScore2))),cc.director.getCollisionManager().enabled=!1,this.endMenu.active=!0,this.player2.unscheduleAllCallbacks()}}),cc._RF.pop()},{Player2:"Player2"}],Game:[function(e,t,c){"use strict";cc._RF.push(t,"c7c81qnn+VLRb9LjgIXhGQS","Game");var i=e("Player"),o=e("MoveBG");cc.Class({extends:cc.Component,properties:{cm:o,endMenu:cc.Node,scoreLabel:cc.Label,endMenuScoreLabel:cc.Label,player:i,energyMAXSlot:0,energybar:{default:null,type:cc.ProgressBar}},onLoad:function(){var t=this;cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e){e.keyCode!=cc.KEY.back&&e.keyCode!=cc.KEY.backspace||t.loadMenu()},t),cc.director.getCollisionManager().enabled=!0,this.player.init(this),this.score=0,this.energySlot=0},replay:function(){cc.director.loadScene("JumpGame")},loadMenu:function(e){cc.director.loadScene("Menu"),PageViewIndex=0},gainEnergy:function(){this.energySlot++,this.energybar.progress=this.energySlot/this.energyMAXSlot,this.energySlot>=this.energyMAXSlot&&(this.energySlot=0,this.player.onSuper())},gainScore:function(){this.score+=10,this.scoreLabel.string=this.score+"m"},stopGame:function(){this.endMenuScoreLabel.string=this.score+"m",GameScore.Score<=this.score&&(GameScore.Score=this.score,cc.sys.localStorage.setItem("GameScore",JSON.stringify(GameScore))),cc.director.getCollisionManager().enabled=!1,this.endMenu.active=!0,this.cm.farMoveSpeed=0,this.cm.groundMoveSpeed=0,this.cm.layerMoveSpeed=0,this.player.unscheduleAllCallbacks()}}),cc._RF.pop()},{MoveBG:"MoveBG",Player:"Player"}],Load:[function(e,t,c){"use strict";cc._RF.push(t,"380cewJLX9GMLooYQqj0KFj","Load"),window.GameScore={Score:0},window.GameScore2={Score:0},window.PageViewIndex=0,cc.Class({extends:cc.Component,properties:{loadBar:{default:null,type:cc.ProgressBar}},onLoad:function(){cc.director.preloadScene("Menu",function(){console.log("Menu scene preloaded")});this.schedule(function(){this.loadBar.progress+=.2,.9<this.loadBar.progress&&cc.director.loadScene("Menu")},.8),cc.sys.localStorage.getItem("GameScore")?GameScore.Score=JSON.parse(cc.sys.localStorage.getItem("GameScore")).Score:GameScore.Score=0,cc.sys.localStorage.getItem("GameScore2")?GameScore2.Score=JSON.parse(cc.sys.localStorage.getItem("GameScore2")).Score:GameScore2.Score=0}}),cc._RF.pop()},{}],Menu:[function(e,t,c){"use strict";cc._RF.push(t,"ab7e9u/9XxL3pdVrR3+J9Tv","Menu"),cc.Class({extends:cc.Component,properties:{tipsLabel:cc.Label,jumpScoreLabel:cc.Label,jump2ScoreLabel:cc.Label,pageView:cc.PageView,tipsText:{default:[],type:cc.String},tipsSprite:cc.Sprite,exitTip:cc.Node},onLoad:function(){cc.director.preloadScene("JumpGame",function(){console.log("JumpGame scene preloaded")}),cc.director.preloadScene("JumpGame2",function(){console.log("JumpGame2 scene preloaded")}),this.init()},start:function(){this.pageView.getComponent(cc.PageView).setCurrentPageIndex(PageViewIndex)},init:function(){this.schedule(this.showTips,2),this.schedule(this.playAnimationClip,4),this.jumpScoreLabel.string=GameScore.Score+"m",this.jump2ScoreLabel.string=GameScore2.Score+"m",this.backCount=0;var t=this;cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e){e.keyCode!=cc.KEY.back&&e.keyCode!=cc.KEY.backspace||t.exit()},t)},exit:function(){switch(this.backCount++,this.backCount){case 1:this.exitTip.active=!0;break;case 2:this.backCount=0,cc.game.end()}},playAnimationClip:function(){this.tipsSprite.getComponent(cc.Animation).play()},showTips:function(){if(0<this.tipsText.length){var e=Math.round(Math.random()*(this.tipsText.length-1));this.tipsLabel.string=this.tipsText[e]}},onBtnPlay1:function(){cc.director.loadScene("JumpGame")},onBtnPlay2:function(){cc.director.loadScene("JumpGame2")}}),cc._RF.pop()},{}],MoveBG2:[function(e,t,c){"use strict";cc._RF.push(t,"4e7c1sirXRKCqnUuzhjyN0B","MoveBG2"),cc.Class({extends:cc.Component,properties:{far:cc.Node,cloudLayer:cc.Node,player2:cc.Node,camera:cc.Node,game:cc.Node},onLoad:function(){},moveBG:function(e){var t=e;this.player2.y>this.camera.y+this.camera.height/2&&(this.far.y-=t,this.far.y<=0&&(this.far.y=1500),this.cloudLayer.y-=t,this.player2.y-=t,this.game.getComponent("Game2").gainScore(.1*t))}}),cc._RF.pop()},{}],MoveBG:[function(e,t,c){"use strict";cc._RF.push(t,"a85cfnYy+tEVZWy79O4dCW9","MoveBG"),cc.Class({extends:cc.Component,properties:{far:cc.Node,farMoveSpeed:0,ground:cc.Node,groundMoveSpeed:0,pipeLayer:cc.Node,layerMoveSpeed:0},onLoad:function(){},update:function(e){this.far.x-=this.farMoveSpeed*e,this.far.x<=-920&&(this.far.x=0),this.ground.x-=this.groundMoveSpeed*e,this.ground.x<=-920&&(this.ground.x=0),this.pipeLayer.x-=this.layerMoveSpeed*e}}),cc._RF.pop()},{}],MoveBrick:[function(e,t,c){"use strict";cc._RF.push(t,"51a69f0ExpNEaV2cNiif//7","MoveBrick"),cc.Class({extends:cc.Component,properties:{moveSpeed:0},onLoad:function(){this.moveLeftFlag=null,.5<Math.random()?this.moveLeftFlag=!0:this.moveLeftFlag=!1},update:function(e){360<=Math.abs(this.node.x)&&(1==this.moveLeftFlag?this.moveLeftFlag=!1:this.moveLeftFlag=!0),this.moveLeftFlag?this.move(this.moveSpeed*e):this.move(-this.moveSpeed*e)},move:function(e){this.node.x+=e}}),cc._RF.pop()},{}],Player2:[function(e,t,c){"use strict";cc._RF.push(t,"d26565yWCpKKq4wKi6GVHcJ","Player2");var i=e("PrefabManager2"),o=e("MoveBG2"),s=cc.Enum({NONE:0,NORMAL:1,JUMP:2,SUPER:3,DEAD:4});cc.Class({extends:cc.Component,properties:{pm2:i,cm2:o,sprite:cc.Node,canvas:cc.Node,g:0,maxMoveSpeedX:0,jumpSpeed:0,superSpeed:0,state:{default:s.NORMAL,type:s,visible:!1},jumpAudio:{default:null,url:cc.AudioClip}},init:function(e){var t=this;t.game=e,t.accLeft=!1,t.accRight=!1,t.speedX=0,t.speedY=0,t.state=s.NORMAL,t.schedule(t.runAnimation,1),cc.systemEvent.setAccelerometerEnabled(!0),cc.systemEvent.on(cc.SystemEvent.EventType.DEVICEMOTION,t.move,t),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e){switch(e.keyCode){case cc.KEY.a:case cc.KEY.left:t.accLeft=!0,t.sprite.scaleX=1;break;case cc.KEY.d:case cc.KEY.right:t.accRight=!0,t.sprite.scaleX=-1}},t),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,function(e){switch(e.keyCode){case cc.KEY.a:case cc.KEY.left:t.accLeft=!1,t.speedX=0;break;case cc.KEY.d:case cc.KEY.right:t.accRight=!1,t.speedX=0}},t),t.initSuperSpeed=t.superSpeed},update:function(e){this.state==s.NORMAL||this.state==s.JUMP?(this.speedY-=this.g,this.speedY<=0?this.state=s.NORMAL:this.cm2.moveBG(this.speedY),this.node.y+=this.speedY):this.state==s.SUPER&&(this.superSpeed-=15*e,this.node.y+=this.superSpeed,this.cm2.moveBG(this.superSpeed)),Math.abs(this.node.x)>=this.canvas.width/2+50&&(0<this.node.x?this.node.x=-this.canvas.width/2:this.node.x=this.canvas.width/2),this.accLeft?this.speedX-=ACCPC*e:this.accRight&&(this.speedX+=ACCPC*e),Math.abs(this.speedX)>this.maxMoveSpeedX&&(this.speedX=this.maxMoveSpeedX*this.speedX/Math.abs(this.speedX)),this.node.x+=this.speedX*e},runAnimation:function(){this.sprite.getComponent(cc.Animation).play("JumpGame")},move:function(e){e.acc.x<0?this.sprite.scaleX=1:0<e.acc.x&&(this.sprite.scaleX=-1),this.node.x+=e.acc.x*ACCFactor},move2:function(e){switch(e.keyCode){case cc.KEY.a:case cc.KEY.left:this.sprite.scaleX=1,this.node.x-=100;break;case cc.KEY.d:case cc.KEY.right:this.sprite.scaleX=-1,this.node.x+=100}},jump:function(){this.speedY=this.jumpSpeed,this.state=s.JUMP;var e=cc.audioEngine.play(this.jumpAudio,!1,VOLUME);cc.audioEngine.setVolume(e,VOLUME)},die:function(){this.state=s.DEAD,this.node.color=cc.Color.BLACK,this.game.stopGame()},onSuper:function(){this.state=s.SUPER,this.node.getChildByName("Sprite").color=cc.Color.MAGENTA,this.scheduleOnce(this.recover,3)},recover:function(){this.state=s.NORMAL,this.node.getChildByName("Sprite").color=cc.Color.WHITE,this.superSpeed=this.initSuperSpeed,this.speedY=0,this.game.energybar.progress=0},onCollisionEnter:function(e,t){this.state!=s.NORMAL||3!=e.tag&&4!=e.tag&&5!=e.tag||(this.jump(),5==e.tag&&this.pm2.desBrick3(e.node)),this.state!=s.SUPER&&2==e.tag&&(this.pm2.desPop(e.node),this.game.gainEnergy())},onCollisionExit:function(e,t){0==e.tag&&this.die()}}),cc._RF.pop()},{MoveBG2:"MoveBG2",PrefabManager2:"PrefabManager2"}],Player:[function(e,t,c){"use strict";cc._RF.push(t,"cd2749Z55ZN5p1/6v+bBWUG","Player");var i=e("PrefabManager"),o=e("MoveBG"),s=cc.Enum({NONE:0,NORMAL:1,SUPER:2,DEAD:3});cc.Class({extends:cc.Component,properties:{canvas:cc.Node,pm:i,cm:o,g:0,jumpSpeed:0,superSpeed:0,state:{default:s.NORMAL,type:s,visible:!1}},init:function(e){this.game=e,this.speedY=0,this.state=s.NORMAL,this.canvas.on(cc.Node.EventType.TOUCH_START,this.jump,this),this.schedule(this.runAnimation,1),this.initFarMoveSpeed=this.cm.farMoveSpeed,this.initGroundMoveSpeed=this.cm.groundMoveSpeed,this.initLayerMoveSpeed=this.cm.layerMoveSpeed},update:function(e){this.state==s.NONE&&this.state==s.DEAD||(this.speedY-=this.g,this.node.y+=this.speedY,this.node.y<-440&&(this.node.y=-440),420<this.node.y&&(this.node.y=420))},jump:function(){this.speedY=this.jumpSpeed},runAnimation:function(){this.node.getComponent(cc.Animation).play("JumpGame")},die:function(){this.state=s.DEAD,this.node.color=cc.Color.BLACK,this.game.stopGame()},onSuper:function(){this.state=s.SUPER,this.node.color=cc.Color.RED,this.setBGSpeed(this.superSpeed);var e=1/(.8*this.superSpeed);this.scheduleOnce(function(){this.setBGSpeed(e)},2),this.scheduleOnce(this.recover,3)},setBGSpeed:function(e){this.cm.farMoveSpeed*=e,this.cm.groundMoveSpeed*=e,this.cm.layerMoveSpeed*=e},recover:function(){this.state=s.NORMAL,this.node.color=cc.Color.WHITE,this.cm.farMoveSpeed=this.initFarMoveSpeed,this.cm.groundMoveSpeed=this.initGroundMoveSpeed,this.cm.layerMoveSpeed=this.initLayerMoveSpeed,this.game.energybar.progress=0},onCollisionEnter:function(e,t){this.state==s.NORMAL&&(1==e.tag?this.die():2==e.tag&&(this.pm.desPop(e.node),this.game.gainEnergy()))},onCollisionExit:function(e,t){0==e.tag&&this.game.gainScore()}}),cc._RF.pop()},{MoveBG:"MoveBG",PrefabManager:"PrefabManager"}],PrefabManager2:[function(e,t,c){"use strict";cc._RF.push(t,"a7625Wf4Q1JTL2pZX0pWEyd","PrefabManager2"),cc.Class({extends:cc.Component,properties:{brick1Prefab:cc.Prefab,brick2Prefab:cc.Prefab,brick3Prefab:cc.Prefab,popPrefab:cc.Prefab,brickLayer:cc.Node,brickInterval:0,NO1BrickY:0},onLoad:function(){this.brick1Pool=new cc.NodePool,this.brick2Pool=new cc.NodePool,this.brick3Pool=new cc.NodePool,this.popPool2=new cc.NodePool;for(var e=0;e<30;e++)this.brick1Pool.put(cc.instantiate(this.brick1Prefab));for(e=0;e<30;e++)this.brick2Pool.put(cc.instantiate(this.brick2Prefab));for(e=0;e<30;e++)this.brick3Pool.put(cc.instantiate(this.brick3Prefab));for(e=0;e<25;e++)this.popPool2.put(cc.instantiate(this.popPrefab));this.curBrickY=this.NO1BrickY;for(e=0;e<25;e++)this.spawnBrick()},onCollisionEnter:function(e,t){3==e.tag&&this.desBrick1(e.node),4==e.tag&&this.desBrick2(e.node),5==e.tag&&this.desBrick3(e.node),2==e.tag&&this.desPop(e.node)},spawnBrick:function(){var e=null;(e=this.brick1Pool.get()).x=720*Math.random()-360,e.y=this.curBrickY,this.brickLayer.addChild(e),this.curBrickY+=this.brickInterval},reviveBrick:function(){var e=Math.floor(2*Math.random()+1);if(1!=e){var t=Math.random(),c=Math.random();2==e?0<=t-c?t<.5&&this.spawnBrick2(1):c<.9&&this.spawnBrick3(1):0<=t-c?(t<.5&&this.spawnBrick2(1),c<.9&&this.spawnBrick3(2)):(c<.9&&this.spawnBrick3(1),t<.5&&this.spawnBrick2(2))}var i=null;i=this.brick1Pool.get();var o=720*Math.random()-360,s=this.curBrickY+e*this.brickInterval;i.x=o,i.y=s,this.brickLayer.addChild(i),this.spawnPop(o,s),this.curBrickY=s},spawnBrick2:function(e){var t=null;t=this.brick2Pool.get();var c=720*Math.random()-360,i=this.curBrickY+e*this.brickInterval;t.x=c,t.y=i,this.brickLayer.addChild(t)},spawnBrick3:function(e){var t=null;(t=this.brick3Pool.get()).color=cc.Color.ORANGE,t.getComponent(cc.Animation).play("BrickFadeIn");var c=720*Math.random()-360,i=this.curBrickY+e*this.brickInterval;t.x=c,t.y=i,this.brickLayer.addChild(t)},spawnPop:function(e,t){if(Math.random()<.2){var c=null;(c=0<this.popPool2.size()?this.popPool2.get():cc.instantiate(this.popPrefab)).x=e,c.y=t+48,this.brickLayer.addChild(c)}},desBrick1:function(e){this.brick1Pool.put(e),this.reviveBrick()},desBrick2:function(e){this.brick2Pool.put(e)},desBrick3:function(e){e.color=cc.Color.RED,e.getComponent(cc.Animation).play("BrickFadeOut"),this.scheduleOnce(function(){this.brick3Pool.put(e)},.5)},desPop:function(e){this.popPool2.put(e)}}),cc._RF.pop()},{}],PrefabManager:[function(e,t,c){"use strict";cc._RF.push(t,"41bfaccuuRK5ICNYNipW/OF","PrefabManager"),cc.Class({extends:cc.Component,properties:{pipeGroupPrefab:cc.Prefab,popPrefab:cc.Prefab,pipeLayer:cc.Node,pipeInterval:0,pipeTBInterval:0,NO1PipeX:0},onLoad:function(){this.pipePool=new cc.NodePool,this.popPool=new cc.NodePool;for(var e=0;e<3;e++)this.pipePool.put(cc.instantiate(this.pipeGroupPrefab)),this.popPool.put(cc.instantiate(this.popPrefab));this.curPipeX=this.NO1PipeX,this.spawnPipe(),this.spawnPipe()},onCollisionEnter:function(e,t){0==e.tag&&this.desPipe(e.node),2==e.tag&&this.desPop(e.node)},spawnPipe:function(){var e=null;(e=0<this.pipePool.size()?this.pipePool.get():cc.instantiate(this.pipeGroupPrefab)).x=this.curPipeX;var t=e.getChildByName("pipeTop"),c=e.getChildByName("pipeBot");c.y=250*Math.random()-200,t.y=c.y+this.pipeTBInterval,this.pipeLayer.addChild(e),this.spawnPop(),this.curPipeX+=this.pipeInterval},spawnPop:function(){if(Math.random()<.7){var e=this.popPool.get();e.y=400*Math.random()-200,e.x=this.curPipeX+this.pipeInterval/2,this.pipeLayer.addChild(e)}},desPipe:function(e){this.pipePool.put(e),this.spawnPipe()},desPop:function(e){this.popPool.put(e)}}),cc._RF.pop()},{}]},{},["Game","Game2","Load","Menu","MoveBG","MoveBG2","MoveBrick","Player","Player2","PrefabManager","PrefabManager2"]);